/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Oa=Object.create;var $t=Object.defineProperty;var _a=Object.getOwnPropertyDescriptor;var Ca=Object.getOwnPropertyNames;var La=Object.getPrototypeOf,Ia=Object.prototype.hasOwnProperty;var Ti=g=>$t(g,"__esModule",{value:!0});var Mi=(g,a)=>()=>(a||g((a={exports:{}}).exports,a),a.exports),Aa=(g,a)=>{Ti(g);for(var u in a)$t(g,u,{get:a[u],enumerable:!0})},Da=(g,a,u)=>{if(a&&typeof a=="object"||typeof a=="function")for(let f of Ca(a))!Ia.call(g,f)&&f!=="default"&&$t(g,f,{get:()=>a[f],enumerable:!(u=_a(a,f))||u.enumerable});return g},be=g=>Da(Ti($t(g!=null?Oa(La(g)):{},"default",g&&g.__esModule&&"default"in g?{get:()=>g.default,enumerable:!0}:{value:g,enumerable:!0})),g);var _i=Mi((Ua,Oi)=>{Oi.exports=function(a,u){u||(u=[0,""]),a=String(a);var f=parseFloat(a,10);return u[0]=f,u[1]=a.match(/[\d.\-\+]*\s*(.*)/)[1]||"",u}});var Gi=Mi(($i,Qn)=>{(function(g){typeof $i=="object"&&typeof Qn!="undefined"?Qn.exports=g():typeof define=="function"&&define.amd?define([],g):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).interact=g()})(function(){var g={};Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,g.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.init=v,a.getWindow=function(e){return(0,g.default)(e)?e:(e.ownerDocument||e).defaultView||f.window},a.window=a.realWindow=void 0;var u=void 0;a.realWindow=u;var f=void 0;function v(e){a.realWindow=u=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),a.window=f=e}a.window=f,typeof window!="undefined"&&window&&v(window);var d={};function E(e){return(E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var k=function(e){return!!e&&E(e)==="object"},S=function(e){return typeof e=="function"},T={window:function(e){return e===a.window||(0,g.default)(e)},docFrag:function(e){return k(e)&&e.nodeType===11},object:k,func:S,number:function(e){return typeof e=="number"},bool:function(e){return typeof e=="boolean"},string:function(e){return typeof e=="string"},element:function(e){if(!e||E(e)!=="object")return!1;var t=a.getWindow(e)||a.window;return/object|function/.test(E(t.Element))?e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:function(e){return k(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return k(e)&&e.length!==void 0&&S(e.splice)}};d.default=T;var O={};function M(e){var t=e.interaction;if(t.prepared.name==="drag"){var o=t.prepared.axis;o==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):o==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function N(e){var t=e.iEvent,o=e.interaction;if(o.prepared.name==="drag"){var n=o.prepared.axis;if(n==="x"||n==="y"){var i=n==="x"?"y":"x";t.page[i]=o.coords.start.page[i],t.client[i]=o.coords.start.client[i],t.delta[i]=0}}}Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var R={id:"actions/drag",install:function(e){var t=e.actions,o=e.Interactable,n=e.defaults;o.prototype.draggable=R.draggable,t.map.drag=R,t.methodDict.drag="draggable",n.actions.drag=R.defaults},listeners:{"interactions:before-action-move":M,"interactions:action-resume":M,"interactions:action-move":N,"auto-start:check":function(e){var t=e.interaction,o=e.interactable,n=e.buttons,i=o.options.drag;if(i&&i.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(n&o.options.drag.mouseButtons)!=0))return e.action={name:"drag",axis:i.lockAxis==="start"?i.startAxis:i.lockAxis},!1}},draggable:function(e){return d.default.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):d.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:M,move:N,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},q=R;O.default=q;var D={};Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var W={init:function(e){var t=e;W.document=t.document,W.DocumentFragment=t.DocumentFragment||Q,W.SVGElement=t.SVGElement||Q,W.SVGSVGElement=t.SVGSVGElement||Q,W.SVGElementInstance=t.SVGElementInstance||Q,W.Element=t.Element||Q,W.HTMLElement=t.HTMLElement||W.Element,W.Event=t.Event,W.Touch=t.Touch||Q,W.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function Q(){}var le=W;D.default=le;var $={};Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var J={init:function(e){var t=D.default.Element,o=e.navigator||{};J.supportsTouch="ontouchstart"in e||d.default.func(e.DocumentTouch)&&D.default.document instanceof e.DocumentTouch,J.supportsPointerEvent=o.pointerEnabled!==!1&&!!D.default.PointerEvent,J.isIOS=/iP(hone|od|ad)/.test(o.platform),J.isIOS7=/iP(hone|od|ad)/.test(o.platform)&&/OS 7[^\d]/.test(o.appVersion),J.isIe9=/MSIE 9/.test(o.userAgent),J.isOperaMobile=o.appName==="Opera"&&J.supportsTouch&&/Presto/.test(o.userAgent),J.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",J.pEventTypes=J.supportsPointerEvent?D.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,J.wheelEvent=D.default.document&&"onmousewheel"in D.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},rn=J;$.default=rn;var A={};function ht(e){var t=e.parentNode;if(d.default.docFrag(t)){for(;(t=t.host)&&d.default.docFrag(t););return t}return t}function vt(e,t){return a.window!==a.realWindow&&(t=t.replace(/\/deep\//g," ")),e[$.default.prefixedMatchesSelector](t)}Object.defineProperty(A,"__esModule",{value:!0}),A.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},A.closest=function(e,t){for(;d.default.element(e);){if(vt(e,t))return e;e=ht(e)}return null},A.parentNode=ht,A.matchesSelector=vt,A.indexOfDeepestElement=function(e){for(var t,o=[],n=0;n<e.length;n++){var i=e[n],r=e[t];if(i&&n!==t)if(r){var c=an(i),s=an(r);if(c!==i.ownerDocument)if(s!==i.ownerDocument)if(c!==s){o=o.length?o:eo(r);var l=void 0;if(r instanceof D.default.HTMLElement&&i instanceof D.default.SVGElement&&!(i instanceof D.default.SVGSVGElement)){if(i===s)continue;l=i.ownerSVGElement}else l=i;for(var p=eo(l,r.ownerDocument),h=0;p[h]&&p[h]===o[h];)h++;var m=[p[h-1],p[h],o[h]];if(m[0])for(var b=m[0].lastChild;b;){if(b===m[1]){t=n,o=p;break}if(b===m[2])break;b=b.previousSibling}}else w=i,y=r,(parseInt(a.getWindow(w).getComputedStyle(w).zIndex,10)||0)>=(parseInt(a.getWindow(y).getComputedStyle(y).zIndex,10)||0)&&(t=n);else t=n}else t=n}var w,y;return t},A.matchesUpTo=function(e,t,o){for(;d.default.element(e);){if(vt(e,t))return!0;if((e=ht(e))===o)return vt(e,t)}return!1},A.getActualElement=function(e){return e.correspondingUseElement||e},A.getScrollXY=to,A.getElementClientRect=no,A.getElementRect=function(e){var t=no(e);if(!$.default.isIOS7&&t){var o=to(a.getWindow(e));t.left+=o.x,t.right+=o.x,t.top+=o.y,t.bottom+=o.y}return t},A.getPath=function(e){for(var t=[];e;)t.push(e),e=ht(e);return t},A.trySelector=function(e){return!!d.default.string(e)&&(D.default.document.querySelector(e),!0)};var an=function(e){return e.parentNode||e.host};function eo(e,t){for(var o,n=[],i=e;(o=an(i))&&i!==t&&o!==i.ownerDocument;)n.unshift(i),i=o;return n}function to(e){return{x:(e=e||a.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function no(e){var t=e instanceof D.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var I={};Object.defineProperty(I,"__esModule",{value:!0}),I.default=function(e,t){for(var o in t)e[o]=t[o];return e};var G={};function sn(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function oo(e,t,o){return e==="parent"?(0,A.parentNode)(o):e==="self"?t.getRect(o):(0,A.closest)(o,e)}Object.defineProperty(G,"__esModule",{value:!0}),G.getStringOptionResult=oo,G.resolveRectLike=function(e,t,o,n){var i,r=e;return d.default.string(r)?r=oo(r,t,o):d.default.func(r)&&(r=r.apply(void 0,function(c){if(Array.isArray(c))return sn(c)}(i=n)||function(c){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(c))return Array.from(c)}(i)||function(c,s){if(c){if(typeof c=="string")return sn(c,s);var l=Object.prototype.toString.call(c).slice(8,-1);return l==="Object"&&c.constructor&&(l=c.constructor.name),l==="Map"||l==="Set"?Array.from(c):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?sn(c,s):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),d.default.element(r)&&(r=(0,A.getElementRect)(r)),r},G.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},G.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,I.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e},G.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,I.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},G.addEdges=function(e,t,o){e.left&&(t.left+=o.x),e.right&&(t.right+=o.x),e.top&&(t.top+=o.y),e.bottom&&(t.bottom+=o.y),t.width=t.right-t.left,t.height=t.bottom-t.top};var ke={};Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=function(e,t,o){var n=e.options[o],i=n&&n.origin||e.options.origin,r=(0,G.resolveRectLike)(i,e,t,[e&&t]);return(0,G.rectToXY)(r)||{x:0,y:0}};var De={};function io(e){return e.trim().split(/ +/)}Object.defineProperty(De,"__esModule",{value:!0}),De.default=function e(t,o,n){if(n=n||{},d.default.string(t)&&t.search(" ")!==-1&&(t=io(t)),d.default.array(t))return t.reduce(function(l,p){return(0,I.default)(l,e(p,o,n))},n);if(d.default.object(t)&&(o=t,t=""),d.default.func(o))n[t]=n[t]||[],n[t].push(o);else if(d.default.array(o))for(var i=0;i<o.length;i++){var r;r=o[i],e(t,r,n)}else if(d.default.object(o))for(var c in o){var s=io(c).map(function(l){return"".concat(t).concat(l)});e(s,o[c],n)}return n};var we={};Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0,we.default=function(e,t){return Math.sqrt(e*e+t*t)};var Ze={};function ln(e,t){for(var o in t){var n=ln.prefixedPropREs,i=!1;for(var r in n)if(o.indexOf(r)===0&&n[r].test(o)){i=!0;break}i||typeof t[o]=="function"||(e[o]=t[o])}return e}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=void 0,ln.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var Qi=ln;Ze.default=Qi;var L={};function cn(e){return e instanceof D.default.Event||e instanceof D.default.Touch}function Qe(e,t,o){return e=e||"page",(o=o||{}).x=t[e+"X"],o.y=t[e+"Y"],o}function ro(e,t){return t=t||{x:0,y:0},$.default.isOperaMobile&&cn(e)?(Qe("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):Qe("page",e,t),t}function ao(e,t){return t=t||{},$.default.isOperaMobile&&cn(e)?Qe("screen",e,t):Qe("client",e,t),t}function gt(e){var t=[];return d.default.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function so(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},o=0;o<e.length;o++){var n=e[o];for(var i in t)t[i]+=n[i]}for(var r in t)t[r]/=e.length;return t}Object.defineProperty(L,"__esModule",{value:!0}),L.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},L.setCoordDeltas=function(e,t,o){e.page.x=o.page.x-t.page.x,e.page.y=o.page.y-t.page.y,e.client.x=o.client.x-t.client.x,e.client.y=o.client.y-t.client.y,e.timeStamp=o.timeStamp-t.timeStamp},L.setCoordVelocity=function(e,t){var o=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/o,e.page.y=t.page.y/o,e.client.x=t.client.x/o,e.client.y=t.client.y/o,e.timeStamp=o},L.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},L.isNativePointer=cn,L.getXY=Qe,L.getPageXY=ro,L.getClientXY=ao,L.getPointerId=function(e){return d.default.number(e.pointerId)?e.pointerId:e.identifier},L.setCoords=function(e,t,o){var n=t.length>1?so(t):t[0];ro(n,e.page),ao(n,e.client),e.timeStamp=o},L.getTouchPair=gt,L.pointerAverage=so,L.touchBBox=function(e){if(!e.length)return null;var t=gt(e),o=Math.min(t[0].pageX,t[1].pageX),n=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),r=Math.max(t[0].pageY,t[1].pageY);return{x:o,y:n,left:o,top:n,right:i,bottom:r,width:i-o,height:r-n}},L.touchDistance=function(e,t){var o=t+"X",n=t+"Y",i=gt(e),r=i[0][o]-i[1][o],c=i[0][n]-i[1][n];return(0,we.default)(r,c)},L.touchAngle=function(e,t){var o=t+"X",n=t+"Y",i=gt(e),r=i[1][o]-i[0][o],c=i[1][n]-i[0][n];return 180*Math.atan2(c,r)/Math.PI},L.getPointerType=function(e){return d.default.string(e.pointerType)?e.pointerType:d.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof D.default.Touch?"touch":"mouse"},L.getEventTargets=function(e){var t=d.default.func(e.composedPath)?e.composedPath():e.path;return[A.getActualElement(t?t[0]:e.target),A.getActualElement(e.currentTarget)]},L.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},L.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Object.defineProperty(L,"pointerExtend",{enumerable:!0,get:function(){return Ze.default}});var je={};function Ji(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(je,"__esModule",{value:!0}),je.BaseEvent=void 0;var lo=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.type=void 0,this.target=void 0,this.currentTarget=void 0,this.interactable=void 0,this._interaction=void 0,this.timeStamp=void 0,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=n}var t,o;return t=e,(o=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Ji(t.prototype,o),e}();je.BaseEvent=lo,Object.defineProperty(lo.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.find=K.findIndex=K.from=K.merge=K.remove=K.contains=void 0,K.contains=function(e,t){return e.indexOf(t)!==-1},K.remove=function(e,t){return e.splice(e.indexOf(t),1)};var co=function(e,t){for(var o=0;o<t.length;o++){var n=t[o];e.push(n)}return e};K.merge=co,K.from=function(e){return co([],e)};var uo=function(e,t){for(var o=0;o<e.length;o++)if(t(e[o],o,e))return o;return-1};K.findIndex=uo,K.find=function(e,t){return e[uo(e,t)]};var he={};function po(e){return(po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function er(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fo(e,t){return(fo=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function tr(e,t){return!t||po(t)!=="object"&&typeof t!="function"?function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(e):t}function un(e){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(he,"__esModule",{value:!0}),he.DropEvent=void 0;var nr=function(e){(function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),l&&fo(s,l)})(c,e);var t,o,n,i,r=(n=c,i=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}(),function(){var s,l=un(n);if(i){var p=un(this).constructor;s=Reflect.construct(l,arguments,p)}else s=l.apply(this,arguments);return tr(this,s)});function c(s,l,p){var h;(function(y,P){if(!(y instanceof P))throw new TypeError("Cannot call a class as a function")})(this,c),(h=r.call(this,l._interaction)).target=void 0,h.dropzone=void 0,h.dragEvent=void 0,h.relatedTarget=void 0,h.draggable=void 0,h.timeStamp=void 0,h.propagationStopped=!1,h.immediatePropagationStopped=!1;var m=p==="dragleave"?s.prev:s.cur,b=m.element,w=m.dropzone;return h.type=p,h.target=b,h.currentTarget=b,h.dropzone=w,h.dragEvent=l,h.relatedTarget=l.target,h.draggable=l.interactable,h.timeStamp=l.timeStamp,h}return t=c,(o=[{key:"reject",value:function(){var s=this,l=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&l.cur.dropzone===this.dropzone&&l.cur.element===this.target)if(l.prev.dropzone=this.dropzone,l.prev.element=this.target,l.rejected=!0,l.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var p=l.activeDrops,h=K.findIndex(p,function(b){var w=b.dropzone,y=b.element;return w===s.dropzone&&y===s.target});l.activeDrops.splice(h,1);var m=new c(l,this.dragEvent,"dropdeactivate");m.dropzone=this.dropzone,m.target=this.target,this.dropzone.fire(m)}else this.dropzone.fire(new c(l,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&er(t.prototype,o),c}(je.BaseEvent);he.DropEvent=nr;var mt={};function ho(e,t){for(var o=0;o<e.slice().length;o++){var n=e.slice()[o],i=n.dropzone,r=n.element;t.dropzone=i,t.target=r,i.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function pn(e,t){for(var o=function(r,c){for(var s=r.interactables,l=[],p=0;p<s.list.length;p++){var h=s.list[p];if(h.options.drop.enabled){var m=h.options.drop.accept;if(!(d.default.element(m)&&m!==c||d.default.string(m)&&!A.matchesSelector(c,m)||d.default.func(m)&&!m({dropzone:h,draggableElement:c})))for(var b=d.default.string(h.target)?h._context.querySelectorAll(h.target):d.default.array(h.target)?h.target:[h.target],w=0;w<b.length;w++){var y=b[w];y!==c&&l.push({dropzone:h,element:y,rect:h.getRect(y)})}}}return l}(e,t),n=0;n<o.length;n++){var i=o[n];i.rect=i.dropzone.getRect(i.element)}return o}function vo(e,t,o){for(var n=e.dropState,i=e.interactable,r=e.element,c=[],s=0;s<n.activeDrops.length;s++){var l=n.activeDrops[s],p=l.dropzone,h=l.element,m=l.rect;c.push(p.dropCheck(t,o,i,r,h,m)?h:null)}var b=A.indexOfDeepestElement(c);return n.activeDrops[b]||null}function dn(e,t,o){var n=e.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return o.type==="dragstart"&&(i.activate=new he.DropEvent(n,o,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),o.type==="dragend"&&(i.deactivate=new he.DropEvent(n,o,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),n.rejected||(n.cur.element!==n.prev.element&&(n.prev.dropzone&&(i.leave=new he.DropEvent(n,o,"dragleave"),o.dragLeave=i.leave.target=n.prev.element,o.prevDropzone=i.leave.dropzone=n.prev.dropzone),n.cur.dropzone&&(i.enter=new he.DropEvent(n,o,"dragenter"),o.dragEnter=n.cur.element,o.dropzone=n.cur.dropzone)),o.type==="dragend"&&n.cur.dropzone&&(i.drop=new he.DropEvent(n,o,"drop"),o.dropzone=n.cur.dropzone,o.relatedTarget=n.cur.element),o.type==="dragmove"&&n.cur.dropzone&&(i.move=new he.DropEvent(n,o,"dropmove"),i.move.dragmove=o,o.dropzone=n.cur.dropzone)),i}function fn(e,t){var o=e.dropState,n=o.activeDrops,i=o.cur,r=o.prev;t.leave&&r.dropzone.fire(t.leave),t.enter&&i.dropzone.fire(t.enter),t.move&&i.dropzone.fire(t.move),t.drop&&i.dropzone.fire(t.drop),t.deactivate&&ho(n,t.deactivate),o.prev.dropzone=i.dropzone,o.prev.element=i.element}function go(e,t){var o=e.interaction,n=e.iEvent,i=e.event;if(n.type==="dragmove"||n.type==="dragend"){var r=o.dropState;t.dynamicDrop&&(r.activeDrops=pn(t,o.element));var c=n,s=vo(o,c,i);r.rejected=r.rejected&&!!s&&s.dropzone===r.cur.dropzone&&s.element===r.cur.element,r.cur.dropzone=s&&s.dropzone,r.cur.element=s&&s.element,r.events=dn(o,0,c)}}Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=void 0;var mo={id:"actions/drop",install:function(e){var t=e.actions,o=e.interactStatic,n=e.Interactable,i=e.defaults;e.usePlugin(O.default),n.prototype.dropzone=function(r){return function(c,s){if(d.default.object(s)){if(c.options.drop.enabled=s.enabled!==!1,s.listeners){var l=(0,De.default)(s.listeners),p=Object.keys(l).reduce(function(h,m){return h[/^(enter|leave)/.test(m)?"drag".concat(m):/^(activate|deactivate|move)/.test(m)?"drop".concat(m):m]=l[m],h},{});c.off(c.options.drop.listeners),c.on(p),c.options.drop.listeners=p}return d.default.func(s.ondrop)&&c.on("drop",s.ondrop),d.default.func(s.ondropactivate)&&c.on("dropactivate",s.ondropactivate),d.default.func(s.ondropdeactivate)&&c.on("dropdeactivate",s.ondropdeactivate),d.default.func(s.ondragenter)&&c.on("dragenter",s.ondragenter),d.default.func(s.ondragleave)&&c.on("dragleave",s.ondragleave),d.default.func(s.ondropmove)&&c.on("dropmove",s.ondropmove),/^(pointer|center)$/.test(s.overlap)?c.options.drop.overlap=s.overlap:d.default.number(s.overlap)&&(c.options.drop.overlap=Math.max(Math.min(1,s.overlap),0)),"accept"in s&&(c.options.drop.accept=s.accept),"checker"in s&&(c.options.drop.checker=s.checker),c}return d.default.bool(s)?(c.options.drop.enabled=s,c):c.options.drop}(this,r)},n.prototype.dropCheck=function(r,c,s,l,p,h){return function(m,b,w,y,P,_,x){var C=!1;if(!(x=x||m.getRect(_)))return!!m.options.drop.checker&&m.options.drop.checker(b,w,C,m,_,y,P);var j=m.options.drop.overlap;if(j==="pointer"){var F=(0,ke.default)(y,P,"drag"),X=L.getPageXY(b);X.x+=F.x,X.y+=F.y;var Z=X.x>x.left&&X.x<x.right,B=X.y>x.top&&X.y<x.bottom;C=Z&&B}var Y=y.getRect(P);if(Y&&j==="center"){var ue=Y.left+Y.width/2,ye=Y.top+Y.height/2;C=ue>=x.left&&ue<=x.right&&ye>=x.top&&ye<=x.bottom}return Y&&d.default.number(j)&&(C=Math.max(0,Math.min(x.right,Y.right)-Math.max(x.left,Y.left))*Math.max(0,Math.min(x.bottom,Y.bottom)-Math.max(x.top,Y.top))/(Y.width*Y.height)>=j),m.options.drop.checker&&(C=m.options.drop.checker(b,w,C,m,_,y,P)),C}(this,r,c,s,l,p,h)},o.dynamicDrop=function(r){return d.default.bool(r)?(e.dynamicDrop=r,o):e.dynamicDrop},(0,I.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,i.actions.drop=mo.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var o=e.interaction,n=(e.event,e.iEvent);if(o.prepared.name==="drag"){var i=o.dropState;i.activeDrops=null,i.events=null,i.activeDrops=pn(t,o.element),i.events=dn(o,0,n),i.events.activate&&(ho(i.activeDrops,i.events.activate),t.fire("actions/drop:start",{interaction:o,dragEvent:n}))}},"interactions:action-move":go,"interactions:after-action-move":function(e,t){var o=e.interaction,n=e.iEvent;o.prepared.name==="drag"&&(fn(o,o.dropState.events),t.fire("actions/drop:move",{interaction:o,dragEvent:n}),o.dropState.events={})},"interactions:action-end":function(e,t){if(e.interaction.prepared.name==="drag"){var o=e.interaction,n=e.iEvent;go(e,t),fn(o,o.dropState.events),t.fire("actions/drop:end",{interaction:o,dragEvent:n})}},"interactions:stop":function(e){var t=e.interaction;if(t.prepared.name==="drag"){var o=t.dropState;o&&(o.activeDrops=null,o.events=null,o.cur.dropzone=null,o.cur.element=null,o.prev.dropzone=null,o.prev.element=null,o.rejected=!1)}}},getActiveDrops:pn,getDrop:vo,getDropEvents:dn,fireDropEvents:fn,defaults:{enabled:!1,accept:null,overlap:"pointer"}},or=mo;mt.default=or;var yt={};function hn(e){var t=e.interaction,o=e.iEvent,n=e.phase;if(t.prepared.name==="gesture"){var i=t.pointers.map(function(p){return p.pointer}),r=n==="start",c=n==="end",s=t.interactable.options.deltaSource;if(o.touches=[i[0],i[1]],r)o.distance=L.touchDistance(i,s),o.box=L.touchBBox(i),o.scale=1,o.ds=0,o.angle=L.touchAngle(i,s),o.da=0,t.gesture.startDistance=o.distance,t.gesture.startAngle=o.angle;else if(c){var l=t.prevEvent;o.distance=l.distance,o.box=l.box,o.scale=l.scale,o.ds=0,o.angle=l.angle,o.da=0}else o.distance=L.touchDistance(i,s),o.box=L.touchBBox(i),o.scale=o.distance/t.gesture.startDistance,o.angle=L.touchAngle(i,s),o.ds=o.scale-t.gesture.scale,o.da=o.angle-t.gesture.angle;t.gesture.distance=o.distance,t.gesture.angle=o.angle,d.default.number(o.scale)&&o.scale!==1/0&&!isNaN(o.scale)&&(t.gesture.scale=o.scale)}}Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=void 0;var vn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,o=e.Interactable,n=e.defaults;o.prototype.gesturable=function(i){return d.default.object(i)?(this.options.gesture.enabled=i.enabled!==!1,this.setPerAction("gesture",i),this.setOnEvents("gesture",i),this):d.default.bool(i)?(this.options.gesture.enabled=i,this):this.options.gesture},t.map.gesture=vn,t.methodDict.gesture="gesturable",n.actions.gesture=vn.defaults},listeners:{"interactions:action-start":hn,"interactions:action-move":hn,"interactions:action-end":hn,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},ir=vn;yt.default=ir;var bt={};function rr(e,t,o,n,i,r,c){if(!t)return!1;if(t===!0){var s=d.default.number(r.width)?r.width:r.right-r.left,l=d.default.number(r.height)?r.height:r.bottom-r.top;if(c=Math.min(c,Math.abs((e==="left"||e==="right"?s:l)/2)),s<0&&(e==="left"?e="right":e==="right"&&(e="left")),l<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left")return o.x<(s>=0?r.left:r.right)+c;if(e==="top")return o.y<(l>=0?r.top:r.bottom)+c;if(e==="right")return o.x>(s>=0?r.right:r.left)-c;if(e==="bottom")return o.y>(l>=0?r.bottom:r.top)-c}return!!d.default.element(n)&&(d.default.element(t)?t===n:A.matchesUpTo(n,t,i))}function yo(e){var t=e.iEvent,o=e.interaction;if(o.prepared.name==="resize"&&o.resizeAxes){var n=t;o.interactable.options.resize.square?(o.resizeAxes==="y"?n.delta.x=n.delta.y:n.delta.y=n.delta.x,n.axes="xy"):(n.axes=o.resizeAxes,o.resizeAxes==="x"?n.delta.y=0:o.resizeAxes==="y"&&(n.delta.x=0))}}Object.defineProperty(bt,"__esModule",{value:!0}),bt.default=void 0;var ve={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,o=e.browser,n=e.Interactable,i=e.defaults;ve.cursors=function(r){return r.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(o),ve.defaultMargin=o.supportsTouch||o.supportsPointerEvent?20:10,n.prototype.resizable=function(r){return function(c,s,l){return d.default.object(s)?(c.options.resize.enabled=s.enabled!==!1,c.setPerAction("resize",s),c.setOnEvents("resize",s),d.default.string(s.axis)&&/^x$|^y$|^xy$/.test(s.axis)?c.options.resize.axis=s.axis:s.axis===null&&(c.options.resize.axis=l.defaults.actions.resize.axis),d.default.bool(s.preserveAspectRatio)?c.options.resize.preserveAspectRatio=s.preserveAspectRatio:d.default.bool(s.square)&&(c.options.resize.square=s.square),c):d.default.bool(s)?(c.options.resize.enabled=s,c):c.options.resize}(this,r,e)},t.map.resize=ve,t.methodDict.resize="resizable",i.actions.resize=ve.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(t){var o=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var i=o,r=n.rect;n._rects={start:(0,I.default)({},r),corrected:(0,I.default)({},r),previous:(0,I.default)({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}})(e),yo(e)},"interactions:action-move":function(e){(function(t){var o=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var i=o,r=n.interactable.options.resize.invert,c=r==="reposition"||r==="negate",s=n.rect,l=n._rects,p=l.start,h=l.corrected,m=l.delta,b=l.previous;if((0,I.default)(b,h),c){if((0,I.default)(h,s),r==="reposition"){if(h.top>h.bottom){var w=h.top;h.top=h.bottom,h.bottom=w}if(h.left>h.right){var y=h.left;h.left=h.right,h.right=y}}}else h.top=Math.min(s.top,p.bottom),h.bottom=Math.max(s.bottom,p.top),h.left=Math.min(s.left,p.right),h.right=Math.max(s.right,p.left);for(var P in h.width=h.right-h.left,h.height=h.bottom-h.top,h)m[P]=h[P]-b[P];i.edges=n.prepared.edges,i.rect=h,i.deltaRect=m}})(e),yo(e)},"interactions:action-end":function(e){var t=e.iEvent,o=e.interaction;if(o.prepared.name==="resize"&&o.prepared.edges){var n=t;n.edges=o.prepared.edges,n.rect=o._rects.corrected,n.deltaRect=o._rects.delta}},"auto-start:check":function(e){var t=e.interaction,o=e.interactable,n=e.element,i=e.rect,r=e.buttons;if(i){var c=(0,I.default)({},t.coords.cur.page),s=o.options.resize;if(s&&s.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(r&s.mouseButtons)!=0)){if(d.default.object(s.edges)){var l={left:!1,right:!1,top:!1,bottom:!1};for(var p in l)l[p]=rr(p,s.edges[p],c,t._latestPointer.eventTarget,n,i,s.margin||ve.defaultMargin);l.left=l.left&&!l.right,l.top=l.top&&!l.bottom,(l.left||l.right||l.top||l.bottom)&&(e.action={name:"resize",edges:l})}else{var h=s.axis!=="y"&&c.x>i.right-ve.defaultMargin,m=s.axis!=="x"&&c.y>i.bottom-ve.defaultMargin;(h||m)&&(e.action={name:"resize",axes:(h?"x":"")+(m?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,o=e.axis,n=e.name,i=ve.cursors,r=null;if(o)r=i[n+o];else if(t){for(var c="",s=["top","bottom","left","right"],l=0;l<s.length;l++){var p=s[l];t[p]&&(c+=p)}r=i[c]}return r},defaultMargin:null},ar=ve;bt.default=ar;var wt={};Object.defineProperty(wt,"__esModule",{value:!0}),wt.default=void 0;var sr={id:"actions",install:function(e){e.usePlugin(yt.default),e.usePlugin(bt.default),e.usePlugin(O.default),e.usePlugin(mt.default)}};wt.default=sr;var de={};Object.defineProperty(de,"__esModule",{value:!0}),de.default=void 0;var ge,Te,bo=0,lr={request:function(e){return ge(e)},cancel:function(e){return Te(e)},init:function(e){if(ge=e.requestAnimationFrame,Te=e.cancelAnimationFrame,!ge)for(var t=["ms","moz","webkit","o"],o=0;o<t.length;o++){var n=t[o];ge=e["".concat(n,"RequestAnimationFrame")],Te=e["".concat(n,"CancelAnimationFrame")]||e["".concat(n,"CancelRequestAnimationFrame")]}ge=ge&&ge.bind(e),Te=Te&&Te.bind(e),ge||(ge=function(i){var r=Date.now(),c=Math.max(0,16-(r-bo)),s=e.setTimeout(function(){i(r+c)},c);return bo=r+c,s},Te=function(i){return clearTimeout(i)})}};de.default=lr;var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.getContainer=Et,Ee.getScroll=Je,Ee.getScrollSize=function(e){return d.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},Ee.getScrollSizeDelta=function(e,t){var o=e.interaction,n=e.element,i=o&&o.interactable.options[o.prepared.name].autoScroll;if(!i||!i.enabled)return t(),{x:0,y:0};var r=Et(i.container,o.interactable,n),c=Je(r);t();var s=Je(r);return{x:s.x-c.x,y:s.y-c.y}},Ee.default=void 0;var z={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){z.isScrolling=!0,de.default.cancel(z.i),e.autoScroll=z,z.interaction=e,z.prevTime=z.now(),z.i=de.default.request(z.scroll)},stop:function(){z.isScrolling=!1,z.interaction&&(z.interaction.autoScroll=null),de.default.cancel(z.i)},scroll:function(){var e=z.interaction,t=e.interactable,o=e.element,n=e.prepared.name,i=t.options[n].autoScroll,r=Et(i.container,t,o),c=z.now(),s=(c-z.prevTime)/1e3,l=i.speed*s;if(l>=1){var p={x:z.x*l,y:z.y*l};if(p.x||p.y){var h=Je(r);d.default.window(r)?r.scrollBy(p.x,p.y):r&&(r.scrollLeft+=p.x,r.scrollTop+=p.y);var m=Je(r),b={x:m.x-h.x,y:m.y-h.y};(b.x||b.y)&&t.fire({type:"autoscroll",target:o,interactable:t,delta:b,interaction:e,container:r})}z.prevTime=c}z.isScrolling&&(de.default.cancel(z.i),z.i=de.default.request(z.scroll))},check:function(e,t){var o;return(o=e.options[t].autoScroll)==null?void 0:o.enabled},onInteractionMove:function(e){var t=e.interaction,o=e.pointer;if(t.interacting()&&z.check(t.interactable,t.prepared.name))if(t.simulation)z.x=z.y=0;else{var n,i,r,c,s=t.interactable,l=t.element,p=t.prepared.name,h=s.options[p].autoScroll,m=Et(h.container,s,l);if(d.default.window(m))c=o.clientX<z.margin,n=o.clientY<z.margin,i=o.clientX>m.innerWidth-z.margin,r=o.clientY>m.innerHeight-z.margin;else{var b=A.getElementClientRect(m);c=o.clientX<b.left+z.margin,n=o.clientY<b.top+z.margin,i=o.clientX>b.right-z.margin,r=o.clientY>b.bottom-z.margin}z.x=i?1:c?-1:0,z.y=r?1:n?-1:0,z.isScrolling||(z.margin=h.margin,z.speed=h.speed,z.start(t))}}};function Et(e,t,o){return(d.default.string(e)?(0,G.getStringOptionResult)(e,t,o):e)||(0,a.getWindow)(o)}function Je(e){return d.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var cr={id:"auto-scroll",install:function(e){var t=e.defaults,o=e.actions;e.autoScroll=z,z.now=function(){return e.now()},o.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=z.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,z.stop(),z.interaction&&(z.interaction=null)},"interactions:stop":z.stop,"interactions:action-move":function(e){return z.onInteractionMove(e)}}};Ee.default=cr;var ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.warnOnce=function(e,t){var o=!1;return function(){return o||(a.window.console.warn(t),o=!0),e.apply(this,arguments)}},ae.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},ae.sign=void 0,ae.sign=function(e){return e>=0?1:-1};var xt={};function ur(e){return d.default.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function pr(e){return d.default.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(xt,"__esModule",{value:!0}),xt.default=void 0;var dr={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(o,n,i,r){var c=function(s,l,p,h,m){var b=s.getRect(h),w={action:null,interactable:s,interaction:p,element:h,rect:b,buttons:l.buttons||{0:1,1:4,3:8,4:16}[l.button]};return m.fire("auto-start:check",w),w.action}(this,n,i,r,e);return this.options.actionChecker?this.options.actionChecker(o,n,c,this,r,i):c},t.prototype.ignoreFrom=(0,ae.warnOnce)(function(o){return this._backCompatOption("ignoreFrom",o)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,ae.warnOnce)(function(o){return this._backCompatOption("allowFrom",o)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=pr,t.prototype.styleCursor=ur}};xt.default=dr;var He={};function wo(e,t,o,n,i){return t.testIgnoreAllow(t.options[e.name],o,n)&&t.options[e.name].enabled&&St(t,o,e,i)?e:null}function fr(e,t,o,n,i,r,c){for(var s=0,l=n.length;s<l;s++){var p=n[s],h=i[s],m=p.getAction(t,o,e,h);if(m){var b=wo(m,p,h,r,c);if(b)return{action:b,interactable:p,element:h}}}return{action:null,interactable:null,element:null}}function Eo(e,t,o,n,i){var r=[],c=[],s=n;function l(h){r.push(h),c.push(s)}for(;d.default.element(s);){r=[],c=[],i.interactables.forEachMatch(s,l);var p=fr(e,t,o,r,c,n,i);if(p.action&&!p.interactable.options[p.action.name].manualStart)return p;s=A.parentNode(s)}return{action:null,interactable:null,element:null}}function xo(e,t,o){var n=t.action,i=t.interactable,r=t.element;n=n||{name:null},e.interactable=i,e.element=r,(0,ae.copyAction)(e.prepared,n),e.rect=i&&n.name?i.getRect(r):null,Po(e,o),o.fire("autoStart:prepared",{interaction:e})}function St(e,t,o,n){var i=e.options,r=i[o.name].max,c=i[o.name].maxPerElement,s=n.autoStart.maxInteractions,l=0,p=0,h=0;if(!(r&&c&&s))return!1;for(var m=0;m<n.interactions.list.length;m++){var b=n.interactions.list[m],w=b.prepared.name;if(b.interacting()&&(++l>=s||b.interactable===e&&((p+=w===o.name?1:0)>=r||b.element===t&&(h++,w===o.name&&h>=c))))return!1}return s>0}function So(e,t){return d.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function gn(e,t,o){var n=o.autoStart.cursorElement;n&&n!==e&&(n.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,o.autoStart.cursorElement=t?e:null}function Po(e,t){var o=e.interactable,n=e.element,i=e.prepared;if(e.pointerType==="mouse"&&o&&o.options.styleCursor){var r="";if(i.name){var c=o.options[i.name].cursorChecker;r=d.default.func(c)?c(i,o,n,e._interacting):t.actions.map[i.name].getCursor(i)}gn(e.element,r||"",t)}else t.autoStart.cursorElement&&gn(t.autoStart.cursorElement,"",t)}Object.defineProperty(He,"__esModule",{value:!0}),He.default=void 0;var hr={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,o=e.defaults;e.usePlugin(xt.default),o.base.actionChecker=null,o.base.styleCursor=!0,(0,I.default)(o.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(n){return So(n,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:St,cursorElement:null}},listeners:{"interactions:down":function(e,t){var o=e.interaction,n=e.pointer,i=e.event,r=e.eventTarget;o.interacting()||xo(o,Eo(o,n,i,r,t),t)},"interactions:move":function(e,t){(function(o,n){var i=o.interaction,r=o.pointer,c=o.event,s=o.eventTarget;i.pointerType!=="mouse"||i.pointerIsDown||i.interacting()||xo(i,Eo(i,r,c,s,n),n)})(e,t),function(o,n){var i=o.interaction;if(i.pointerIsDown&&!i.interacting()&&i.pointerWasMoved&&i.prepared.name){n.fire("autoStart:before-start",o);var r=i.interactable,c=i.prepared.name;c&&r&&(r.options[c].manualStart||!St(r,i.element,i.prepared,n)?i.stop():(i.start(i.prepared,r,i.element),Po(i,n)))}}(e,t)},"interactions:stop":function(e,t){var o=e.interaction,n=o.interactable;n&&n.options.styleCursor&&gn(o.element,"",t)}},maxInteractions:So,withinInteractionLimit:St,validateAction:wo};He.default=hr;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.default=void 0;var vr={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var o=e.interaction,n=e.eventTarget,i=e.dx,r=e.dy;if(o.prepared.name==="drag"){var c=Math.abs(i),s=Math.abs(r),l=o.interactable.options.drag,p=l.startAxis,h=c>s?"x":c<s?"y":"xy";if(o.prepared.axis=l.lockAxis==="start"?h[0]:l.lockAxis,h!=="xy"&&p!=="xy"&&p!==h){o.prepared.name=null;for(var m=n,b=function(y){if(y!==o.interactable){var P=o.interactable.options.drag;if(!P.manualStart&&y.testIgnoreAllow(P,m,n)){var _=y.getAction(o.downPointer,o.downEvent,o,m);if(_&&_.name==="drag"&&function(x,C){if(!C)return!1;var j=C.options.drag.startAxis;return x==="xy"||j==="xy"||j===x}(h,y)&&He.default.validateAction(_,y,m,n,t))return y}}};d.default.element(m);){var w=t.interactables.forEachMatch(m,b);if(w){o.prepared.name="drag",o.interactable=w,o.element=m;break}m=(0,A.parentNode)(m)}}}}}};Pt.default=vr;var kt={};function mn(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var o=e.interactable.options;return o[t].hold||o[t].delay}Object.defineProperty(kt,"__esModule",{value:!0}),kt.default=void 0;var gr={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(He.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,o=mn(t);o>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},o))},"interactions:move":function(e){var t=e.interaction,o=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!o&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;mn(t)>0&&(t.prepared.name=null)}},getHoldDuration:mn};kt.default=gr;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.default=void 0;var mr={id:"auto-start",install:function(e){e.usePlugin(He.default),e.usePlugin(kt.default),e.usePlugin(Pt.default)}};Tt.default=mr;var Re={};function yr(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):d.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function br(e){var t=e.interaction,o=e.event;t.interactable&&t.interactable.checkAndPreventDefault(o)}function ko(e){var t=e.Interactable;t.prototype.preventDefault=yr,t.prototype.checkAndPreventDefault=function(o){return function(n,i,r){var c=n.options.preventDefault;if(c!=="never")if(c!=="always"){if(i.events.supportsPassive&&/^touch(start|move)$/.test(r.type)){var s=(0,a.getWindow)(r.target).document,l=i.getDocOptions(s);if(!l||!l.events||l.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(r.type)||d.default.element(r.target)&&(0,A.matchesSelector)(r.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||r.preventDefault()}else r.preventDefault()}(this,e,o)},e.interactions.docEvents.push({type:"dragstart",listener:function(o){for(var n=0;n<e.interactions.list.length;n++){var i=e.interactions.list[n];if(i.element&&(i.element===o.target||(0,A.nodeContains)(i.element,o.target)))return void i.interactable.checkAndPreventDefault(o)}}})}Object.defineProperty(Re,"__esModule",{value:!0}),Re.install=ko,Re.default=void 0;var wr={id:"core/interactablePreventDefault",install:ko,listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=br,e},{})};Re.default=wr;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.default=void 0,Mt.default={};var ze,Ot={};function yn(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(ze||(ze={}));var To="[interact.js] ",bn={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"},wn=[{name:ze.touchAction,perform:function(e){return!function(t,o,n){for(var i=t;d.default.element(i);){if(Mo(i,"touchAction",n))return!0;i=(0,A.parentNode)(i)}return!1}(e.element,0,/pan-|pinch|none/)},getInfo:function(e){return[e.element,bn.touchAction]},text:`Consider adding CSS "touch-action: none" to this element
`},{name:ze.boxSizing,perform:function(e){var t=e.element;return e.prepared.name==="resize"&&t instanceof D.default.HTMLElement&&!Mo(t,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo:function(e){return[e.element,bn.boxSizing]}},{name:ze.noListeners,perform:function(e){var t=e.prepared.name;return!(e.interactable.events.types["".concat(t,"move")]||[]).length},getInfo:function(e){return[e.prepared.name,e.interactable]},text:"There are no listeners set for this action"}];function Mo(e,t,o){var n=e.style[t]||a.window.getComputedStyle(e)[t];return o.test((n||"").toString())}var Er={id:"dev-tools",install:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.logger,n=e.Interactable,i=e.defaults;e.logger=o||console,i.base.devTools={ignore:{}},n.prototype.devTools=function(r){return r?((0,I.default)(this.options.devTools,r),this):this.options.devTools},e.usePlugin(Mt.default)},listeners:{"interactions:action-start":function(e,t){for(var o=e.interaction,n=0;n<wn.length;n++){var i,r=wn[n],c=o.interactable&&o.interactable.options;c&&c.devTools&&c.devTools.ignore[r.name]||!r.perform(o)||(i=t.logger).warn.apply(i,[To+r.text].concat(function(l){if(Array.isArray(l))return yn(l)}(s=r.getInfo(o))||function(l){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(l))return Array.from(l)}(s)||function(l,p){if(l){if(typeof l=="string")return yn(l,p);var h=Object.prototype.toString.call(l).slice(8,-1);return h==="Object"&&l.constructor&&(h=l.constructor.name),h==="Map"||h==="Set"?Array.from(l):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?yn(l,p):void 0}}(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()))}var s}},checks:wn,CheckName:ze,links:bn,prefix:To};Ot.default=Er;var Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=function e(t){var o={};for(var n in t){var i=t[n];d.default.plainObject(i)?o[n]=e(i):d.default.array(i)?o[n]=K.from(i):o[n]=i}return o};var Oe={};function Oo(e,t){return function(o){if(Array.isArray(o))return o}(e)||function(o,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(o)){var i=[],r=!0,c=!1,s=void 0;try{for(var l,p=o[Symbol.iterator]();!(r=(l=p.next()).done)&&(i.push(l.value),!n||i.length!==n);r=!0);}catch(h){c=!0,s=h}finally{try{r||p.return==null||p.return()}finally{if(c)throw s}}return i}}(e,t)||function(o,n){if(o){if(typeof o=="string")return _o(o,n);var i=Object.prototype.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_o(o,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _o(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function xr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.getRectOffset=Co,Oe.default=void 0;var Sr=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=n,this.result=_t()}var t,o;return t=e,(o=[{key:"start",value:function(n,i){var r=n.phase,c=this.interaction,s=function(p){var h=p.interactable.options[p.prepared.name],m=h.modifiers;return m&&m.length?m:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(b){var w=h[b];return w&&w.enabled&&{options:w,methods:w._methods}}).filter(function(b){return!!b})}(c);this.prepareStates(s),this.edges=(0,I.default)({},c.edges),this.startOffset=Co(c.rect,i),this.startDelta={x:0,y:0};var l=this.fillArg({phase:r,pageCoords:i,preEnd:!1});return this.result=_t(),this.startAll(l),this.result=this.setAll(l)}},{key:"fillArg",value:function(n){var i=this.interaction;return n.interaction=i,n.interactable=i.interactable,n.element=i.element,n.rect=n.rect||i.rect,n.edges=this.edges,n.startOffset=this.startOffset,n}},{key:"startAll",value:function(n){for(var i=0;i<this.states.length;i++){var r=this.states[i];r.methods.start&&(n.state=r,r.methods.start(n))}}},{key:"setAll",value:function(n){var i=n.phase,r=n.preEnd,c=n.skipModifiers,s=n.rect;n.coords=(0,I.default)({},n.pageCoords),n.rect=(0,I.default)({},s);for(var l=c?this.states.slice(c):this.states,p=_t(n.coords,n.rect),h=0;h<l.length;h++){var m,b=l[h],w=b.options,y=(0,I.default)({},n.coords),P=null;(m=b.methods)!=null&&m.set&&this.shouldDo(w,r,i)&&(n.state=b,P=b.methods.set(n),G.addEdges(this.interaction.edges,n.rect,{x:n.coords.x-y.x,y:n.coords.y-y.y})),p.eventProps.push(P)}p.delta.x=n.coords.x-n.pageCoords.x,p.delta.y=n.coords.y-n.pageCoords.y,p.rectDelta.left=n.rect.left-s.left,p.rectDelta.right=n.rect.right-s.right,p.rectDelta.top=n.rect.top-s.top,p.rectDelta.bottom=n.rect.bottom-s.bottom;var _=this.result.coords,x=this.result.rect;if(_&&x){var C=p.rect.left!==x.left||p.rect.right!==x.right||p.rect.top!==x.top||p.rect.bottom!==x.bottom;p.changed=C||_.x!==p.coords.x||_.y!==p.coords.y}return p}},{key:"applyToInteraction",value:function(n){var i=this.interaction,r=n.phase,c=i.coords.cur,s=i.coords.start,l=this.result,p=this.startDelta,h=l.delta;r==="start"&&(0,I.default)(this.startDelta,l.delta);for(var m=[[s,p],[c,h]],b=0;b<m.length;b++){var w=Oo(m[b],2),y=w[0],P=w[1];y.page.x+=P.x,y.page.y+=P.y,y.client.x+=P.x,y.client.y+=P.y}var _=this.result.rectDelta,x=n.rect||i.rect;x.left+=_.left,x.right+=_.right,x.top+=_.top,x.bottom+=_.bottom,x.width=x.right-x.left,x.height=x.bottom-x.top}},{key:"setAndApply",value:function(n){var i=this.interaction,r=n.phase,c=n.preEnd,s=n.skipModifiers,l=this.setAll(this.fillArg({preEnd:c,phase:r,pageCoords:n.modifiedCoords||i.coords.cur.page}));if(this.result=l,!l.changed&&(!s||s<this.states.length)&&i.interacting())return!1;if(n.modifiedCoords){var p=i.coords.cur.page,h={x:n.modifiedCoords.x-p.x,y:n.modifiedCoords.y-p.y};l.coords.x+=h.x,l.coords.y+=h.y,l.delta.x+=h.x,l.delta.y+=h.y}this.applyToInteraction(n)}},{key:"beforeEnd",value:function(n){var i=n.interaction,r=n.event,c=this.states;if(c&&c.length){for(var s=!1,l=0;l<c.length;l++){var p=c[l];n.state=p;var h=p.options,m=p.methods,b=m.beforeEnd&&m.beforeEnd(n);if(b)return this.endResult=b,!1;s=s||!s&&this.shouldDo(h,!0,n.phase,!0)}s&&i.move({event:r,preEnd:!0})}}},{key:"stop",value:function(n){var i=n.interaction;if(this.states&&this.states.length){var r=(0,I.default)({states:this.states,interactable:i.interactable,element:i.element,rect:null},n);this.fillArg(r);for(var c=0;c<this.states.length;c++){var s=this.states[c];r.state=s,s.methods.stop&&s.methods.stop(r)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(n){this.states=[];for(var i=0;i<n.length;i++){var r=n[i],c=r.options,s=r.methods,l=r.name;this.states.push({options:c,methods:s,index:i,name:l})}return this.states}},{key:"restoreInteractionCoords",value:function(n){var i=n.interaction,r=i.coords,c=i.rect,s=i.modification;if(s.result){for(var l=s.startDelta,p=s.result,h=p.delta,m=p.rectDelta,b=[[r.start,l],[r.cur,h]],w=0;w<b.length;w++){var y=Oo(b[w],2),P=y[0],_=y[1];P.page.x-=_.x,P.page.y-=_.y,P.client.x-=_.x,P.client.y-=_.y}c.left-=m.left,c.right-=m.right,c.top-=m.top,c.bottom-=m.bottom}}},{key:"shouldDo",value:function(n,i,r,c){return!(!n||n.enabled===!1||c&&!n.endOnly||n.endOnly&&!i||r==="start"&&!n.setStart)}},{key:"copyFrom",value:function(n){this.startOffset=n.startOffset,this.startDelta=n.startDelta,this.edges=n.edges,this.states=n.states.map(function(i){return(0,Me.default)(i)}),this.result=_t((0,I.default)({},n.result.coords),(0,I.default)({},n.result.rect))}},{key:"destroy",value:function(){for(var n in this)this[n]=null}}])&&xr(t.prototype,o),e}();function _t(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Co(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}Oe.default=Sr;var te={};function Ct(e){var t=e.iEvent,o=e.interaction.modification.result;o&&(t.modifiers=o.eventProps)}Object.defineProperty(te,"__esModule",{value:!0}),te.makeModifier=function(e,t){var o=e.defaults,n={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},i=function(r){var c=r||{};for(var s in c.enabled=c.enabled!==!1,o)s in c||(c[s]=o[s]);var l={options:c,methods:n,name:t,enable:function(){return c.enabled=!0,l},disable:function(){return c.enabled=!1,l}};return l};return t&&typeof t=="string"&&(i._defaults=o,i._methods=n),i},te.addEventModifiers=Ct,te.default=void 0;var Pr={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new Oe.default(t)},"interactions:before-action-start":function(e){var t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":function(e){return e.interaction.modification.setAndApply(e)},"interactions:before-action-end":function(e){return e.interaction.modification.beforeEnd(e)},"interactions:action-start":Ct,"interactions:action-move":Ct,"interactions:action-end":Ct,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}};te.default=Pr;var et={};Object.defineProperty(et,"__esModule",{value:!0}),et.defaults=void 0,et.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var tt={};function Lo(e){return(Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function kr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Io(e,t){return(Io=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function Tr(e,t){return!t||Lo(t)!=="object"&&typeof t!="function"?Ao(e):t}function Ao(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(tt,"__esModule",{value:!0}),tt.InteractEvent=void 0;var Do=function(e){(function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),l&&Io(s,l)})(c,e);var t,o,n,i,r=(n=c,i=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}(),function(){var s,l=En(n);if(i){var p=En(this).constructor;s=Reflect.construct(l,arguments,p)}else s=l.apply(this,arguments);return Tr(this,s)});function c(s,l,p,h,m,b,w){var y;(function(Z,B){if(!(Z instanceof B))throw new TypeError("Cannot call a class as a function")})(this,c),(y=r.call(this,s)).target=void 0,y.currentTarget=void 0,y.relatedTarget=null,y.screenX=void 0,y.screenY=void 0,y.button=void 0,y.buttons=void 0,y.ctrlKey=void 0,y.shiftKey=void 0,y.altKey=void 0,y.metaKey=void 0,y.page=void 0,y.client=void 0,y.delta=void 0,y.rect=void 0,y.x0=void 0,y.y0=void 0,y.t0=void 0,y.dt=void 0,y.duration=void 0,y.clientX0=void 0,y.clientY0=void 0,y.velocity=void 0,y.speed=void 0,y.swipe=void 0,y.timeStamp=void 0,y.axes=void 0,y.preEnd=void 0,m=m||s.element;var P=s.interactable,_=(P&&P.options||et.defaults).deltaSource,x=(0,ke.default)(P,m,p),C=h==="start",j=h==="end",F=C?Ao(y):s.prevEvent,X=C?s.coords.start:j?{page:F.page,client:F.client,timeStamp:s.coords.cur.timeStamp}:s.coords.cur;return y.page=(0,I.default)({},X.page),y.client=(0,I.default)({},X.client),y.rect=(0,I.default)({},s.rect),y.timeStamp=X.timeStamp,j||(y.page.x-=x.x,y.page.y-=x.y,y.client.x-=x.x,y.client.y-=x.y),y.ctrlKey=l.ctrlKey,y.altKey=l.altKey,y.shiftKey=l.shiftKey,y.metaKey=l.metaKey,y.button=l.button,y.buttons=l.buttons,y.target=m,y.currentTarget=m,y.preEnd=b,y.type=w||p+(h||""),y.interactable=P,y.t0=C?s.pointers[s.pointers.length-1].downTime:F.t0,y.x0=s.coords.start.page.x-x.x,y.y0=s.coords.start.page.y-x.y,y.clientX0=s.coords.start.client.x-x.x,y.clientY0=s.coords.start.client.y-x.y,y.delta=C||j?{x:0,y:0}:{x:y[_].x-F[_].x,y:y[_].y-F[_].y},y.dt=s.coords.delta.timeStamp,y.duration=y.timeStamp-y.t0,y.velocity=(0,I.default)({},s.coords.velocity[_]),y.speed=(0,we.default)(y.velocity.x,y.velocity.y),y.swipe=j||h==="inertiastart"?y.getSwipe():null,y}return t=c,(o=[{key:"getSwipe",value:function(){var s=this._interaction;if(s.prevEvent.speed<600||this.timeStamp-s.prevEvent.timeStamp>150)return null;var l=180*Math.atan2(s.prevEvent.velocityY,s.prevEvent.velocityX)/Math.PI;l<0&&(l+=360);var p=112.5<=l&&l<247.5,h=202.5<=l&&l<337.5;return{up:h,down:!h&&22.5<=l&&l<157.5,left:p,right:!p&&(292.5<=l||l<67.5),angle:l,speed:s.prevEvent.speed,velocity:{x:s.prevEvent.velocityX,y:s.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&kr(t.prototype,o),c}(je.BaseEvent);tt.InteractEvent=Do,Object.defineProperties(Do.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.PointerInfo=void 0,nt.PointerInfo=function e(t,o,n,i,r){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=o,this.event=n,this.downTime=i,this.downTarget=r};var Lt,It,re={};function Mr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(re,"__esModule",{value:!0}),Object.defineProperty(re,"PointerInfo",{enumerable:!0,get:function(){return nt.PointerInfo}}),re.default=re.Interaction=re._ProxyMethods=re._ProxyValues=void 0,re._ProxyValues=Lt,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(Lt||(re._ProxyValues=Lt={})),re._ProxyMethods=It,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(It||(re._ProxyMethods=It={}));var Or=0,jo=function(){function e(n){var i=this,r=n.pointerType,c=n.scopeFire;(function(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")})(this,e),this.interactable=null,this.element=null,this.rect=void 0,this._rects=void 0,this.edges=void 0,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=null,this.simulation=null,this.doMove=(0,ae.warnOnce)(function(b){this.move(b)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:L.newCoords(),prev:L.newCoords(),cur:L.newCoords(),delta:L.newCoords(),velocity:L.newCoords()},this._id=Or++,this._scopeFire=c,this.pointerType=r;var s=this;this._proxy={};var l=function(b){Object.defineProperty(i._proxy,b,{get:function(){return s[b]}})};for(var p in Lt)l(p);var h=function(b){Object.defineProperty(i._proxy,b,{value:function(){return s[b].apply(s,arguments)}})};for(var m in It)h(m);this._scopeFire("interactions:new",{interaction:this})}var t,o;return t=e,(o=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(n,i,r){var c=this.updatePointer(n,i,r,!0),s=this.pointers[c];this._scopeFire("interactions:down",{pointer:n,event:i,eventTarget:r,pointerIndex:c,pointerInfo:s,type:"down",interaction:this})}},{key:"start",value:function(n,i,r){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(n.name==="gesture"?2:1)||!i.options[n.name].enabled)&&((0,ae.copyAction)(this.prepared,n),this.interactable=i,this.element=r,this.rect=i.getRect(r),this.edges=this.prepared.edges?(0,I.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(n,i,r){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(n,i,r,!1);var c,s,l=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(c=this.coords.cur.client.x-this.coords.start.client.x,s=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,we.default)(c,s)>this.pointerMoveTolerance);var p=this.getPointerIndex(n),h={pointer:n,pointerIndex:p,pointerInfo:this.pointers[p],event:i,type:"move",eventTarget:r,dx:c,dy:s,duplicate:l,interaction:this};l||L.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",h),l||this.simulation||(this.interacting()&&(h.type=null,this.move(h)),this.pointerWasMoved&&L.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(n){n&&n.event||L.setZeroCoords(this.coords.delta),(n=(0,I.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},n||{})).phase="move",this._doPhase(n)}},{key:"pointerUp",value:function(n,i,r,c){var s=this.getPointerIndex(n);s===-1&&(s=this.updatePointer(n,i,r,!1));var l=/cancel$/i.test(i.type)?"cancel":"up";this._scopeFire("interactions:".concat(l),{pointer:n,pointerIndex:s,pointerInfo:this.pointers[s],event:i,eventTarget:r,type:l,curEventTarget:c,interaction:this}),this.simulation||this.end(i),this.removePointer(n,i)}},{key:"documentBlur",value:function(n){this.end(n),this._scopeFire("interactions:blur",{event:n,type:"blur",interaction:this})}},{key:"end",value:function(n){var i;this._ending=!0,n=n||this._latestPointer.event,this.interacting()&&(i=this._doPhase({event:n,interaction:this,phase:"end"})),this._ending=!1,i===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(n){var i=L.getPointerId(n);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:K.findIndex(this.pointers,function(r){return r.id===i})}},{key:"getPointerInfo",value:function(n){return this.pointers[this.getPointerIndex(n)]}},{key:"updatePointer",value:function(n,i,r,c){var s=L.getPointerId(n),l=this.getPointerIndex(n),p=this.pointers[l];return c=c!==!1&&(c||/(down|start)$/i.test(i.type)),p?p.pointer=n:(p=new nt.PointerInfo(s,n,i,null,null),l=this.pointers.length,this.pointers.push(p)),L.setCoords(this.coords.cur,this.pointers.map(function(h){return h.pointer}),this._now()),L.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),c&&(this.pointerIsDown=!0,p.downTime=this.coords.cur.timeStamp,p.downTarget=r,L.pointerExtend(this.downPointer,n),this.interacting()||(L.copyCoords(this.coords.start,this.coords.cur),L.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=i,this.pointerWasMoved=!1)),this._updateLatestPointer(n,i,r),this._scopeFire("interactions:update-pointer",{pointer:n,event:i,eventTarget:r,down:c,pointerInfo:p,pointerIndex:l,interaction:this}),l}},{key:"removePointer",value:function(n,i){var r=this.getPointerIndex(n);if(r!==-1){var c=this.pointers[r];this._scopeFire("interactions:remove-pointer",{pointer:n,event:i,eventTarget:null,pointerIndex:r,pointerInfo:c,interaction:this}),this.pointers.splice(r,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(n,i,r){this._latestPointer.pointer=n,this._latestPointer.event=i,this._latestPointer.eventTarget=r}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(n,i,r,c){return new tt.InteractEvent(this,n,this.prepared.name,i,this.element,r,c)}},{key:"_fireEvent",value:function(n){this.interactable.fire(n),(!this.prevEvent||n.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=n)}},{key:"_doPhase",value:function(n){var i=n.event,r=n.phase,c=n.preEnd,s=n.type,l=this.rect;if(l&&r==="move"&&(G.addEdges(this.edges,l,this.coords.delta[this.interactable.options.deltaSource]),l.width=l.right-l.left,l.height=l.bottom-l.top),this._scopeFire("interactions:before-action-".concat(r),n)===!1)return!1;var p=n.iEvent=this._createPreparedEvent(i,r,c,s);return this._scopeFire("interactions:action-".concat(r),n),r==="start"&&(this.prevEvent=p),this._fireEvent(p),this._scopeFire("interactions:after-action-".concat(r),n),!0}},{key:"_now",value:function(){return Date.now()}}])&&Mr(t.prototype,o),e}();re.Interaction=jo;var _r=jo;re.default=_r;var _e={};function Ho(e){e.pointerIsDown&&(Sn(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function Ro(e){xn(e.interaction)}function xn(e){if(!function(o){return!(!o.offset.pending.x&&!o.offset.pending.y)}(e))return!1;var t=e.offset.pending;return Sn(e.coords.cur,t),Sn(e.coords.delta,t),G.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Cr(e){var t=e.x,o=e.y;this.offset.pending.x+=t,this.offset.pending.y+=o,this.offset.total.x+=t,this.offset.total.y+=o}function Sn(e,t){var o=e.page,n=e.client,i=t.x,r=t.y;o.x+=i,o.y+=r,n.x+=i,n.y+=r}Object.defineProperty(_e,"__esModule",{value:!0}),_e.addTotal=Ho,_e.applyPending=xn,_e.default=void 0,re._ProxyMethods.offsetBy="";var Lr={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Cr},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return Ho(e.interaction)},"interactions:before-action-start":Ro,"interactions:before-action-move":Ro,"interactions:before-action-end":function(e){var t=e.interaction;if(xn(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}};_e.default=Lr;var We={};function Ir(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(We,"__esModule",{value:!0}),We.default=We.InertiaState=void 0;var zo=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=n}var t,o;return t=e,(o=[{key:"start",value:function(n){var i=this.interaction,r=At(i);if(!r||!r.enabled)return!1;var c=i.coords.velocity.client,s=(0,we.default)(c.x,c.y),l=this.modification||(this.modification=new Oe.default(i));if(l.copyFrom(i.modification),this.t0=i._now(),this.allowResume=r.allowResume,this.v0=s,this.currentOffset={x:0,y:0},this.startCoords=i.coords.cur.page,this.modifierArg=l.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-i.coords.cur.timeStamp<50&&s>r.minSpeed&&s>r.endSpeed)this.startInertia();else{if(l.result=l.setAll(this.modifierArg),!l.result.changed)return!1;this.startSmoothEnd()}return i.modification.result.rect=null,i.offsetBy(this.targetOffset),i._doPhase({interaction:i,event:n,phase:"inertiastart"}),i.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),i.modification.result.rect=null,this.active=!0,i.simulation=this,!0}},{key:"startInertia",value:function(){var n=this,i=this.interaction.coords.velocity.client,r=At(this.interaction),c=r.resistance,s=-Math.log(r.endSpeed/this.v0)/c;this.targetOffset={x:(i.x-s)/c,y:(i.y-s)/c},this.te=s,this.lambda_v0=c/this.v0,this.one_ve_v0=1-r.endSpeed/this.v0;var l=this.modification,p=this.modifierArg;p.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},l.result=l.setAll(p),l.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+l.result.delta.x,y:this.targetOffset.y+l.result.delta.y}),this.onNextFrame(function(){return n.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var n=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return n.smoothEndTick()})}},{key:"onNextFrame",value:function(n){var i=this;this.timeout=de.default.request(function(){i.active&&n()})}},{key:"inertiaTick",value:function(){var n,i,r,c,s,l=this,p=this.interaction,h=At(p).resistance,m=(p._now()-this.t0)/1e3;if(m<this.te){var b,w=1-(Math.exp(-h*m)-this.lambda_v0)/this.one_ve_v0;this.isModified?(n=this.targetOffset.x,i=this.targetOffset.y,r=this.modifiedOffset.x,c=this.modifiedOffset.y,b={x:Wo(s=w,0,n,r),y:Wo(s,0,i,c)}):b={x:this.targetOffset.x*w,y:this.targetOffset.y*w};var y={x:b.x-this.currentOffset.x,y:b.y-this.currentOffset.y};this.currentOffset.x+=y.x,this.currentOffset.y+=y.y,p.offsetBy(y),p.move(),this.onNextFrame(function(){return l.inertiaTick()})}else p.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var n=this,i=this.interaction,r=i._now()-this.t0,c=At(i).smoothEndDuration;if(r<c){var s={x:Fo(r,0,this.targetOffset.x,c),y:Fo(r,0,this.targetOffset.y,c)},l={x:s.x-this.currentOffset.x,y:s.y-this.currentOffset.y};this.currentOffset.x+=l.x,this.currentOffset.y+=l.y,i.offsetBy(l),i.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return n.smoothEndTick()})}else i.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(n){var i=n.pointer,r=n.event,c=n.eventTarget,s=this.interaction;s.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),s.updatePointer(i,r,c,!0),s._doPhase({interaction:s,event:r,phase:"resume"}),(0,L.copyCoords)(s.coords.prev,s.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,de.default.cancel(this.timeout)}}])&&Ir(t.prototype,o),e}();function At(e){var t=e.interactable,o=e.prepared;return t&&t.options&&o.name&&t.options[o.name].inertia}function Wo(e,t,o,n){var i=1-e;return i*i*t+2*i*e*o+e*e*n}function Fo(e,t,o,n){return-o*(e/=n)*(e-2)+t}We.InertiaState=zo;var Ar={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(_e.default),e.usePlugin(te.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new zo(t)},"interactions:before-action-end":function(e){var t=e.interaction,o=e.event;return(!t._interacting||t.simulation||!t.inertia.start(o))&&null},"interactions:down":function(e){var t=e.interaction,o=e.eventTarget,n=t.inertia;if(n.active)for(var i=o;d.default.element(i);){if(i===t.element){n.resume(e);break}i=A.parentNode(i)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":te.addEventModifiers,"interactions:action-inertiastart":te.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};We.default=Ar;var ot={};function Dr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vo(e,t){for(var o=0;o<t.length;o++){var n=t[o];if(e.immediatePropagationStopped)break;n(e)}}Object.defineProperty(ot,"__esModule",{value:!0}),ot.Eventable=void 0;var jr=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=(0,I.default)({},n||{})}var t,o;return t=e,(o=[{key:"fire",value:function(n){var i,r=this.global;(i=this.types[n.type])&&Vo(n,i),!n.propagationStopped&&r&&(i=r[n.type])&&Vo(n,i)}},{key:"on",value:function(n,i){var r=(0,De.default)(n,i);for(n in r)this.types[n]=K.merge(this.types[n]||[],r[n])}},{key:"off",value:function(n,i){var r=(0,De.default)(n,i);for(n in r){var c=this.types[n];if(c&&c.length)for(var s=0;s<r[n].length;s++){var l=r[n][s],p=c.indexOf(l);p!==-1&&c.splice(p,1)}}}},{key:"getRect",value:function(n){return null}}])&&Dr(t.prototype,o),e}();ot.Eventable=jr;var it={};Object.defineProperty(it,"__esModule",{value:!0}),it.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var o in t.map)if(e.indexOf(o)===0&&e.substr(o.length)in t.phases)return!0;return!1};var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.createInteractStatic=function(e){var t=function o(n,i){var r=e.interactables.get(n,i);return r||((r=e.interactables.new(n,i)).events.global=o.globalEvents),r};return t.getPointerAverage=L.pointerAverage,t.getTouchBBox=L.touchBBox,t.getTouchDistance=L.touchDistance,t.getTouchAngle=L.touchAngle,t.getElementRect=A.getElementRect,t.getElementClientRect=A.getElementClientRect,t.matchesSelector=A.matchesSelector,t.closest=A.closest,t.globalEvents={},t.version="1.10.11",t.scope=e,t.use=function(o,n){return this.scope.usePlugin(o,n),this},t.isSet=function(o,n){return!!this.scope.interactables.get(o,n&&n.context)},t.on=(0,ae.warnOnce)(function(o,n,i){if(d.default.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),d.default.array(o)){for(var r=0;r<o.length;r++){var c=o[r];this.on(c,n,i)}return this}if(d.default.object(o)){for(var s in o)this.on(s,o[s],n);return this}return(0,it.default)(o,this.scope.actions)?this.globalEvents[o]?this.globalEvents[o].push(n):this.globalEvents[o]=[n]:this.scope.events.add(this.scope.document,o,n,{options:i}),this},"The interact.on() method is being deprecated"),t.off=(0,ae.warnOnce)(function(o,n,i){if(d.default.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),d.default.array(o)){for(var r=0;r<o.length;r++){var c=o[r];this.off(c,n,i)}return this}if(d.default.object(o)){for(var s in o)this.off(s,o[s],n);return this}var l;return(0,it.default)(o,this.scope.actions)?o in this.globalEvents&&(l=this.globalEvents[o].indexOf(n))!==-1&&this.globalEvents[o].splice(l,1):this.scope.events.remove(this.scope.document,o,n,i),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return $.default.supportsTouch},t.supportsPointerEvent=function(){return $.default.supportsPointerEvent},t.stop=function(){for(var o=0;o<this.scope.interactions.list.length;o++)this.scope.interactions.list[o].stop();return this},t.pointerMoveTolerance=function(o){return d.default.number(o)?(this.scope.interactions.pointerMoveTolerance=o,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(o,n){this.scope.addDocument(o,n)},t.removeDocument=function(o){this.scope.removeDocument(o)},t};var Dt={};function Hr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.Interactable=void 0;var Rr=function(){function e(n,i,r,c){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=void 0,this._actions=void 0,this.target=void 0,this.events=new ot.Eventable,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._rectChecker=void 0,this._actions=i.actions,this.target=n,this._context=i.context||r,this._win=(0,a.getWindow)((0,A.trySelector)(n)?this._context:n),this._doc=this._win.document,this._scopeEvents=c,this.set(i)}var t,o;return t=e,(o=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(n,i){return d.default.func(i.onstart)&&this.on("".concat(n,"start"),i.onstart),d.default.func(i.onmove)&&this.on("".concat(n,"move"),i.onmove),d.default.func(i.onend)&&this.on("".concat(n,"end"),i.onend),d.default.func(i.oninertiastart)&&this.on("".concat(n,"inertiastart"),i.oninertiastart),this}},{key:"updatePerActionListeners",value:function(n,i,r){(d.default.array(i)||d.default.object(i))&&this.off(n,i),(d.default.array(r)||d.default.object(r))&&this.on(n,r)}},{key:"setPerAction",value:function(n,i){var r=this._defaults;for(var c in i){var s=c,l=this.options[n],p=i[s];s==="listeners"&&this.updatePerActionListeners(n,l.listeners,p),d.default.array(p)?l[s]=K.from(p):d.default.plainObject(p)?(l[s]=(0,I.default)(l[s]||{},(0,Me.default)(p)),d.default.object(r.perAction[s])&&"enabled"in r.perAction[s]&&(l[s].enabled=p.enabled!==!1)):d.default.bool(p)&&d.default.object(r.perAction[s])?l[s].enabled=p:l[s]=p}}},{key:"getRect",value:function(n){return n=n||(d.default.element(this.target)?this.target:null),d.default.string(this.target)&&(n=n||this._context.querySelector(this.target)),(0,A.getElementRect)(n)}},{key:"rectChecker",value:function(n){var i=this;return d.default.func(n)?(this._rectChecker=n,this.getRect=function(r){var c=(0,I.default)({},i._rectChecker(r));return"width"in c||(c.width=c.right-c.left,c.height=c.bottom-c.top),c},this):n===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(n,i){if((0,A.trySelector)(i)||d.default.object(i)){for(var r in this.options[n]=i,this._actions.map)this.options[r][n]=i;return this}return this.options[n]}},{key:"origin",value:function(n){return this._backCompatOption("origin",n)}},{key:"deltaSource",value:function(n){return n==="page"||n==="client"?(this.options.deltaSource=n,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(n){return this._context===n.ownerDocument||(0,A.nodeContains)(this._context,n)}},{key:"testIgnoreAllow",value:function(n,i,r){return!this.testIgnore(n.ignoreFrom,i,r)&&this.testAllow(n.allowFrom,i,r)}},{key:"testAllow",value:function(n,i,r){return!n||!!d.default.element(r)&&(d.default.string(n)?(0,A.matchesUpTo)(r,n,i):!!d.default.element(n)&&(0,A.nodeContains)(n,r))}},{key:"testIgnore",value:function(n,i,r){return!(!n||!d.default.element(r))&&(d.default.string(n)?(0,A.matchesUpTo)(r,n,i):!!d.default.element(n)&&(0,A.nodeContains)(n,r))}},{key:"fire",value:function(n){return this.events.fire(n),this}},{key:"_onOff",value:function(n,i,r,c){d.default.object(i)&&!d.default.array(i)&&(c=r,r=null);var s=n==="on"?"add":"remove",l=(0,De.default)(i,r);for(var p in l){p==="wheel"&&(p=$.default.wheelEvent);for(var h=0;h<l[p].length;h++){var m=l[p][h];(0,it.default)(p,this._actions)?this.events[n](p,m):d.default.string(this.target)?this._scopeEvents["".concat(s,"Delegate")](this.target,this._context,p,m,c):this._scopeEvents[s](this.target,p,m,c)}}return this}},{key:"on",value:function(n,i,r){return this._onOff("on",n,i,r)}},{key:"off",value:function(n,i,r){return this._onOff("off",n,i,r)}},{key:"set",value:function(n){var i=this._defaults;for(var r in d.default.object(n)||(n={}),this.options=(0,Me.default)(i.base),this._actions.methodDict){var c=r,s=this._actions.methodDict[c];this.options[c]={},this.setPerAction(c,(0,I.default)((0,I.default)({},i.perAction),i.actions[c])),this[s](n[c])}for(var l in n)d.default.func(this[l])&&this[l](n[l]);return this}},{key:"unset",value:function(){if(d.default.string(this.target))for(var n in this._scopeEvents.delegatedEvents)for(var i=this._scopeEvents.delegatedEvents[n],r=i.length-1;r>=0;r--){var c=i[r],s=c.selector,l=c.context,p=c.listeners;s===this.target&&l===this._context&&i.splice(r,1);for(var h=p.length-1;h>=0;h--)this._scopeEvents.removeDelegate(this.target,this._context,n,p[h][0],p[h][1])}else this._scopeEvents.remove(this.target,"all")}}])&&Hr(t.prototype,o),e}();Dt.Interactable=Rr;var jt={};function zr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(jt,"__esModule",{value:!0}),jt.InteractableSet=void 0;var Wr=function(){function e(n){var i=this;(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,e),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=n,n.addListeners({"interactable:unset":function(r){var c=r.interactable,s=c.target,l=c._context,p=d.default.string(s)?i.selectorMap[s]:s[i.scope.id],h=K.findIndex(p,function(m){return m.context===l});p[h]&&(p[h].context=null,p[h].interactable=null),p.splice(h,1)}})}var t,o;return t=e,(o=[{key:"new",value:function(n,i){i=(0,I.default)(i||{},{actions:this.scope.actions});var r=new this.scope.Interactable(n,i,this.scope.document,this.scope.events),c={context:r._context,interactable:r};return this.scope.addDocument(r._doc),this.list.push(r),d.default.string(n)?(this.selectorMap[n]||(this.selectorMap[n]=[]),this.selectorMap[n].push(c)):(r.target[this.scope.id]||Object.defineProperty(n,this.scope.id,{value:[],configurable:!0}),n[this.scope.id].push(c)),this.scope.fire("interactable:new",{target:n,options:i,interactable:r,win:this.scope._win}),r}},{key:"get",value:function(n,i){var r=i&&i.context||this.scope.document,c=d.default.string(n),s=c?this.selectorMap[n]:n[this.scope.id];if(!s)return null;var l=K.find(s,function(p){return p.context===r&&(c||p.interactable.inContext(n))});return l&&l.interactable}},{key:"forEachMatch",value:function(n,i){for(var r=0;r<this.list.length;r++){var c=this.list[r],s=void 0;if((d.default.string(c.target)?d.default.element(n)&&A.matchesSelector(n,c.target):n===c.target)&&c.inContext(n)&&(s=i(c)),s!==void 0)return s}}}])&&zr(t.prototype,o),e}();jt.InteractableSet=Wr;var Ht={};function Fr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kn(e,t){return function(o){if(Array.isArray(o))return o}(e)||function(o,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(o)){var i=[],r=!0,c=!1,s=void 0;try{for(var l,p=o[Symbol.iterator]();!(r=(l=p.next()).done)&&(i.push(l.value),!n||i.length!==n);r=!0);}catch(h){c=!0,s=h}finally{try{r||p.return==null||p.return()}finally{if(c)throw s}}return i}}(e,t)||function(o,n){if(o){if(typeof o=="string")return No(o,n);var i=Object.prototype.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?No(o,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function No(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=void 0;var Vr=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=n,(0,Ze.default)(this,n)}var t,o;return t=e,(o=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&Fr(t.prototype,o),e}();function rt(e){if(!d.default.object(e))return{capture:!!e,passive:!1};var t=(0,I.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var Nr={id:"events",install:function(e){var t,o=[],n={},i=[],r={add:c,remove:s,addDelegate:function(h,m,b,w,y){var P=rt(y);if(!n[b]){n[b]=[];for(var _=0;_<i.length;_++){var x=i[_];c(x,b,l),c(x,b,p,!0)}}var C=n[b],j=K.find(C,function(F){return F.selector===h&&F.context===m});j||(j={selector:h,context:m,listeners:[]},C.push(j)),j.listeners.push([w,P])},removeDelegate:function(h,m,b,w,y){var P,_=rt(y),x=n[b],C=!1;if(x)for(P=x.length-1;P>=0;P--){var j=x[P];if(j.selector===h&&j.context===m){for(var F=j.listeners,X=F.length-1;X>=0;X--){var Z=kn(F[X],2),B=Z[0],Y=Z[1],ue=Y.capture,ye=Y.passive;if(B===w&&ue===_.capture&&ye===_.passive){F.splice(X,1),F.length||(x.splice(P,1),s(m,b,l),s(m,b,p,!0)),C=!0;break}}if(C)break}}},delegateListener:l,delegateUseCapture:p,delegatedEvents:n,documents:i,targets:o,supportsOptions:!1,supportsPassive:!1};function c(h,m,b,w){var y=rt(w),P=K.find(o,function(_){return _.eventTarget===h});P||(P={eventTarget:h,events:{}},o.push(P)),P.events[m]||(P.events[m]=[]),h.addEventListener&&!K.contains(P.events[m],b)&&(h.addEventListener(m,b,r.supportsOptions?y:y.capture),P.events[m].push(b))}function s(h,m,b,w){var y=rt(w),P=K.findIndex(o,function(X){return X.eventTarget===h}),_=o[P];if(_&&_.events)if(m!=="all"){var x=!1,C=_.events[m];if(C){if(b==="all"){for(var j=C.length-1;j>=0;j--)s(h,m,C[j],y);return}for(var F=0;F<C.length;F++)if(C[F]===b){h.removeEventListener(m,b,r.supportsOptions?y:y.capture),C.splice(F,1),C.length===0&&(delete _.events[m],x=!0);break}}x&&!Object.keys(_.events).length&&o.splice(P,1)}else for(m in _.events)_.events.hasOwnProperty(m)&&s(h,m,"all")}function l(h,m){for(var b=rt(m),w=new Vr(h),y=n[h.type],P=kn(L.getEventTargets(h),1)[0],_=P;d.default.element(_);){for(var x=0;x<y.length;x++){var C=y[x],j=C.selector,F=C.context;if(A.matchesSelector(_,j)&&A.nodeContains(F,P)&&A.nodeContains(F,_)){var X=C.listeners;w.currentTarget=_;for(var Z=0;Z<X.length;Z++){var B=kn(X[Z],2),Y=B[0],ue=B[1],ye=ue.capture,Wn=ue.passive;ye===b.capture&&Wn===b.passive&&Y(w)}}}_=A.parentNode(_)}}function p(h){return l(h,!0)}return(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return r.supportsOptions=!0},get passive(){return r.supportsPassive=!0}}),e.events=r,r}};Ht.default=Nr;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=void 0;var zt={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<zt.methodOrder.length;t++){var o;o=zt.methodOrder[t];var n=zt[o](e);if(n)return n}return null},simulationResume:function(e){var t=e.pointerType,o=e.eventType,n=e.eventTarget,i=e.scope;if(!/down|start/i.test(o))return null;for(var r=0;r<i.interactions.list.length;r++){var c=i.interactions.list[r],s=n;if(c.simulation&&c.simulation.allowResume&&c.pointerType===t)for(;s;){if(s===c.element)return c;s=A.parentNode(s)}}return null},mouseOrPen:function(e){var t,o=e.pointerId,n=e.pointerType,i=e.eventType,r=e.scope;if(n!=="mouse"&&n!=="pen")return null;for(var c=0;c<r.interactions.list.length;c++){var s=r.interactions.list[c];if(s.pointerType===n){if(s.simulation&&!Bo(s,o))continue;if(s.interacting())return s;t||(t=s)}}if(t)return t;for(var l=0;l<r.interactions.list.length;l++){var p=r.interactions.list[l];if(!(p.pointerType!==n||/down/i.test(i)&&p.simulation))return p}return null},hasPointer:function(e){for(var t=e.pointerId,o=e.scope,n=0;n<o.interactions.list.length;n++){var i=o.interactions.list[n];if(Bo(i,t))return i}return null},idle:function(e){for(var t=e.pointerType,o=e.scope,n=0;n<o.interactions.list.length;n++){var i=o.interactions.list[n];if(i.pointers.length===1){var r=i.interactable;if(r&&(!r.options.gesture||!r.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function Bo(e,t){return e.pointers.some(function(o){return o.id===t})}var Br=zt;Rt.default=Br;var Wt={};function qo(e){return(qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Xo(e,t){return function(o){if(Array.isArray(o))return o}(e)||function(o,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(o)){var i=[],r=!0,c=!1,s=void 0;try{for(var l,p=o[Symbol.iterator]();!(r=(l=p.next()).done)&&(i.push(l.value),!n||i.length!==n);r=!0);}catch(h){c=!0,s=h}finally{try{r||p.return==null||p.return()}finally{if(c)throw s}}return i}}(e,t)||function(o,n){if(o){if(typeof o=="string")return Yo(o,n);var i=Object.prototype.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Yo(o,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yo(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Uo(e,t){return(Uo=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function Yr(e,t){return!t||qo(t)!=="object"&&typeof t!="function"?function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(e):t}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=void 0;var Mn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Ko(e,t){return function(o){var n=t.interactions.list,i=L.getPointerType(o),r=Xo(L.getEventTargets(o),2),c=r[0],s=r[1],l=[];if(/^touch/.test(o.type)){t.prevTouchTime=t.now();for(var p=0;p<o.changedTouches.length;p++){var h=o.changedTouches[p],m={pointer:h,pointerId:L.getPointerId(h),pointerType:i,eventType:o.type,eventTarget:c,curEventTarget:s,scope:t},b=$o(m);l.push([m.pointer,m.eventTarget,m.curEventTarget,b])}}else{var w=!1;if(!$.default.supportsPointerEvent&&/mouse/.test(o.type)){for(var y=0;y<n.length&&!w;y++)w=n[y].pointerType!=="mouse"&&n[y].pointerIsDown;w=w||t.now()-t.prevTouchTime<500||o.timeStamp===0}if(!w){var P={pointer:o,pointerId:L.getPointerId(o),pointerType:i,eventType:o.type,curEventTarget:s,eventTarget:c,scope:t},_=$o(P);l.push([P.pointer,P.eventTarget,P.curEventTarget,_])}}for(var x=0;x<l.length;x++){var C=Xo(l[x],4),j=C[0],F=C[1],X=C[2];C[3][e](j,o,F,X)}}}function $o(e){var t=e.pointerType,o=e.scope,n={interaction:Rt.default.search(e),searchDetails:e};return o.fire("interactions:find",n),n.interaction||o.interactions.new({pointerType:t})}function On(e,t){var o=e.doc,n=e.scope,i=e.options,r=n.interactions.docEvents,c=n.events,s=c[t];for(var l in n.browser.isIOS&&!i.events&&(i.events={passive:!1}),c.delegatedEvents)s(o,l,c.delegateListener),s(o,l,c.delegateUseCapture,!0);for(var p=i&&i.events,h=0;h<r.length;h++){var m=r[h];s(o,m.type,m.listener,p)}}var Ur={id:"core/interactions",install:function(e){for(var t={},o=0;o<Mn.length;o++){var n=Mn[o];t[n]=Ko(n,e)}var i,r=$.default.pEventTypes;function c(){for(var s=0;s<e.interactions.list.length;s++){var l=e.interactions.list[s];if(l.pointerIsDown&&l.pointerType==="touch"&&!l._interacting)for(var p=function(){var m=l.pointers[h];e.documents.some(function(b){var w=b.doc;return(0,A.nodeContains)(w,m.downTarget)})||l.removePointer(m.pointer,m.event)},h=0;h<l.pointers.length;h++)p()}}(i=D.default.PointerEvent?[{type:r.down,listener:c},{type:r.down,listener:t.pointerDown},{type:r.move,listener:t.pointerMove},{type:r.up,listener:t.pointerUp},{type:r.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:c},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(s){for(var l=0;l<e.interactions.list.length;l++)e.interactions.list[l].documentBlur(s)}}),e.prevTouchTime=0,e.Interaction=function(s){(function(y,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(P&&P.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),P&&Uo(y,P)})(w,s);var l,p,h,m,b=(h=w,m=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}(),function(){var y,P=Tn(h);if(m){var _=Tn(this).constructor;y=Reflect.construct(P,arguments,_)}else y=P.apply(this,arguments);return Yr(this,y)});function w(){return qr(this,w),b.apply(this,arguments)}return l=w,(p=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(y){e.interactions.pointerMoveTolerance=y}},{key:"_now",value:function(){return e.now()}}])&&Xr(l.prototype,p),w}(re.default),e.interactions={list:[],new:function(s){s.scopeFire=function(p,h){return e.fire(p,h)};var l=new e.Interaction(s);return e.interactions.list.push(l),l},listeners:t,docEvents:i,pointerMoveTolerance:1},e.usePlugin(Re.default)},listeners:{"scope:add-document":function(e){return On(e,"add")},"scope:remove-document":function(e){return On(e,"remove")},"interactable:unset":function(e,t){for(var o=e.interactable,n=t.interactions.list.length-1;n>=0;n--){var i=t.interactions.list[n];i.interactable===o&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(n,1))}}},onDocSignal:On,doOnInteractions:Ko,methodNames:Mn};Wt.default=Ur;var at={};function Go(e){return(Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _n(e,t,o){return(_n=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(n,i,r){var c=function(l,p){for(;!Object.prototype.hasOwnProperty.call(l,p)&&(l=Fe(l))!==null;);return l}(n,i);if(c){var s=Object.getOwnPropertyDescriptor(c,i);return s.get?s.get.call(r):s.value}})(e,t,o||e)}function Zo(e,t){return(Zo=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function Kr(e,t){return!t||Go(t)!=="object"&&typeof t!="function"?function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(e):t}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jo(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ei(e,t,o){return t&&Jo(e.prototype,t),o&&Jo(e,o),e}Object.defineProperty(at,"__esModule",{value:!0}),at.initScope=ti,at.Scope=void 0;var $r=function(){function e(){var t=this;Qo(this,e),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=$.default,this.defaults=(0,Me.default)(et.defaults),this.Eventable=ot.Eventable,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(0,Pn.createInteractStatic)(this),this.InteractEvent=tt.InteractEvent,this.Interactable=void 0,this.interactables=new jt.InteractableSet(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(n){return t.removeDocument(n.target)};var o=this;this.Interactable=function(n){(function(l,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(p&&p.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),p&&Zo(l,p)})(s,n);var i,r,c=(i=s,r=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}(),function(){var l,p=Fe(i);if(r){var h=Fe(this).constructor;l=Reflect.construct(p,arguments,h)}else l=p.apply(this,arguments);return Kr(this,l)});function s(){return Qo(this,s),c.apply(this,arguments)}return ei(s,[{key:"_defaults",get:function(){return o.defaults}},{key:"set",value:function(l){return _n(Fe(s.prototype),"set",this).call(this,l),o.fire("interactable:set",{options:l,interactable:this}),this}},{key:"unset",value:function(){_n(Fe(s.prototype),"unset",this).call(this),o.interactables.list.splice(o.interactables.list.indexOf(this),1),o.fire("interactable:unset",{interactable:this})}}]),s}(Dt.Interactable)}return ei(e,[{key:"addListeners",value:function(t,o){this.listenerMaps.push({id:o,map:t})}},{key:"fire",value:function(t,o){for(var n=0;n<this.listenerMaps.length;n++){var i=this.listenerMaps[n].map[t];if(i&&i(o,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:ti(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,o){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,o),t.listeners&&t.before){for(var n=0,i=this.listenerMaps.length,r=t.before.reduce(function(s,l){return s[l]=!0,s[ni(l)]=!0,s},{});n<i;n++){var c=this.listenerMaps[n].id;if(r[c]||r[ni(c)])break}this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,o){if(this.getDocIndex(t)!==-1)return!1;var n=a.getWindow(t);o=o?(0,I.default)({},o):{},this.documents.push({doc:t,options:o}),this.events.documents.push(t),t!==this.document&&this.events.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:n,scope:this,options:o})}},{key:"removeDocument",value:function(t){var o=this.getDocIndex(t),n=a.getWindow(t),i=this.documents[o].options;this.events.remove(n,"unload",this.onWindowUnload),this.documents.splice(o,1),this.events.documents.splice(o,1),this.fire("scope:remove-document",{doc:t,window:n,scope:this,options:i})}},{key:"getDocIndex",value:function(t){for(var o=0;o<this.documents.length;o++)if(this.documents[o].doc===t)return o;return-1}},{key:"getDocOptions",value:function(t){var o=this.getDocIndex(t);return o===-1?null:this.documents[o].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function ti(e,t){return e.isInitialized=!0,d.default.window(t)&&a.init(t),D.default.init(t),$.default.init(t),de.default.init(t),e.window=t,e.document=t.document,e.usePlugin(Wt.default),e.usePlugin(Ht.default),e}function ni(e){return e&&e.replace(/\/.*$/,"")}at.Scope=$r;var ne={};Object.defineProperty(ne,"__esModule",{value:!0}),ne.default=void 0;var oi=new at.Scope,Gr=oi.interactStatic;ne.default=Gr;var Zr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:void 0;oi.init(Zr);var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.default=void 0,Ft.default=function(){};var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.default=void 0,Vt.default=function(){};var Nt={};function ii(e,t){return function(o){if(Array.isArray(o))return o}(e)||function(o,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(o)){var i=[],r=!0,c=!1,s=void 0;try{for(var l,p=o[Symbol.iterator]();!(r=(l=p.next()).done)&&(i.push(l.value),!n||i.length!==n);r=!0);}catch(h){c=!0,s=h}finally{try{r||p.return==null||p.return()}finally{if(c)throw s}}return i}}(e,t)||function(o,n){if(o){if(typeof o=="string")return ri(o,n);var i=Object.prototype.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ri(o,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ri(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.default=void 0,Nt.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(n){var i=ii(n,2),r=i[0],c=i[1];return r in e||c in e}),o=function(n,i){for(var r=e.range,c=e.limits,s=c===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:c,l=e.offset,p=l===void 0?{x:0,y:0}:l,h={range:r,grid:e,x:null,y:null},m=0;m<t.length;m++){var b=ii(t[m],2),w=b[0],y=b[1],P=Math.round((n-p.x)/e[w]),_=Math.round((i-p.y)/e[y]);h[w]=Math.max(s.left,Math.min(s.right,P*e[w]+p.x)),h[y]=Math.max(s.top,Math.min(s.bottom,_*e[y]+p.y))}return h};return o.grid=e,o.coordFields=t,o};var st={};Object.defineProperty(st,"__esModule",{value:!0}),Object.defineProperty(st,"edgeTarget",{enumerable:!0,get:function(){return Ft.default}}),Object.defineProperty(st,"elements",{enumerable:!0,get:function(){return Vt.default}}),Object.defineProperty(st,"grid",{enumerable:!0,get:function(){return Nt.default}});var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.default=void 0;var Qr={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,I.default)(t.snappers||{},st),t.createSnapGrid=t.snappers.grid}};Bt.default=Qr;var Ve={};function ai(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),o.push.apply(o,n)}return o}function Cn(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?ai(Object(o),!0).forEach(function(n){Jr(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ai(Object(o)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))})}return e}function Jr(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.aspectRatio=Ve.default=void 0;var si={start:function(e){if(!e.state.options.enabled)return!1;var t=e.state,o=e.rect,n=e.edges,i=e.pageCoords,r=t.options.ratio,c=t.options,s=c.equalDelta,l=c.modifiers;r==="preserve"&&(r=o.width/o.height),t.startCoords=(0,I.default)({},i),t.startRect=(0,I.default)({},o),t.ratio=r,t.equalDelta=s;var p=t.linkedEdges={top:n.top||n.left&&!n.bottom,left:n.left||n.top&&!n.right,bottom:n.bottom||n.right&&!n.top,right:n.right||n.bottom&&!n.left};if(t.xIsPrimaryAxis=!(!n.left&&!n.right),t.equalDelta)t.edgeSign=(p.left?1:-1)*(p.top?1:-1);else{var h=t.xIsPrimaryAxis?p.top:p.left;t.edgeSign=h?-1:1}if((0,I.default)(e.edges,p),l&&l.length){var m=new Oe.default(e.interaction);m.copyFrom(e.interaction.modification),m.prepareStates(l),t.subModification=m,m.startAll(Cn({},e))}},set:function(e){if(e.state.options.enabled===!1)return!1;var t=e.state,o=e.rect,n=e.coords,i=(0,I.default)({},n),r=t.equalDelta?ea:ta;if(r(t,t.xIsPrimaryAxis,n,o),!t.subModification)return null;var c=(0,I.default)({},o);(0,G.addEdges)(t.linkedEdges,c,{x:n.x-i.x,y:n.y-i.y});var s=t.subModification.setAll(Cn(Cn({},e),{},{rect:c,edges:t.linkedEdges,pageCoords:n,prevCoords:n,prevRect:c})),l=s.delta;return s.changed&&(r(t,Math.abs(l.x)>Math.abs(l.y),s.coords,s.rect),(0,I.default)(n,s.coords)),s.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function ea(e,t,o){var n=e.startCoords,i=e.edgeSign;t?o.y=n.y+(o.x-n.x)*i:o.x=n.x+(o.y-n.y)*i}function ta(e,t,o,n){var i=e.startRect,r=e.startCoords,c=e.ratio,s=e.edgeSign;if(t){var l=n.width/c;o.y=r.y+(l-i.height)*s}else{var p=n.height*c;o.x=r.x+(p-i.width)*s}}Ve.aspectRatio=si;var na=(0,te.makeModifier)(si,"aspectRatio");Ve.default=na;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=void 0;var li=function(){};li._defaults={};var oa=li;Ce.default=oa;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Object.defineProperty(Ln,"default",{enumerable:!0,get:function(){return Ce.default}});var oe={};function In(e,t,o){return d.default.func(e)?G.resolveRectLike(e,t.interactable,t.element,[o.x,o.y,t]):G.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(oe,"__esModule",{value:!0}),oe.getRestrictionRect=In,oe.restrict=oe.default=void 0;var ci={start:function(e){var t=e.rect,o=e.startOffset,n=e.state,i=e.interaction,r=e.pageCoords,c=n.options,s=c.elementRect,l=(0,I.default)({left:0,top:0,right:0,bottom:0},c.offset||{});if(t&&s){var p=In(c.restriction,i,r);if(p){var h=p.right-p.left-t.width,m=p.bottom-p.top-t.height;h<0&&(l.left+=h,l.right+=h),m<0&&(l.top+=m,l.bottom+=m)}l.left+=o.left-t.width*s.left,l.top+=o.top-t.height*s.top,l.right+=o.right-t.width*(1-s.right),l.bottom+=o.bottom-t.height*(1-s.bottom)}n.offset=l},set:function(e){var t=e.coords,o=e.interaction,n=e.state,i=n.options,r=n.offset,c=In(i.restriction,o,t);if(c){var s=G.xywhToTlbr(c);t.x=Math.max(Math.min(s.right-r.right,t.x),s.left+r.left),t.y=Math.max(Math.min(s.bottom-r.bottom,t.y),s.top+r.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};oe.restrict=ci;var ia=(0,te.makeModifier)(ci,"restrict");oe.default=ia;var fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.restrictEdges=fe.default=void 0;var ui={top:1/0,left:1/0,bottom:-1/0,right:-1/0},pi={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function di(e,t){for(var o=["top","left","bottom","right"],n=0;n<o.length;n++){var i=o[n];i in e||(e[i]=t[i])}return e}var fi={noInner:ui,noOuter:pi,start:function(e){var t,o=e.interaction,n=e.startOffset,i=e.state,r=i.options;if(r){var c=(0,oe.getRestrictionRect)(r.offset,o,o.coords.start.page);t=G.rectToXY(c)}t=t||{x:0,y:0},i.offset={top:t.y+n.top,left:t.x+n.left,bottom:t.y-n.bottom,right:t.x-n.right}},set:function(e){var t=e.coords,o=e.edges,n=e.interaction,i=e.state,r=i.offset,c=i.options;if(o){var s=(0,I.default)({},t),l=(0,oe.getRestrictionRect)(c.inner,n,s)||{},p=(0,oe.getRestrictionRect)(c.outer,n,s)||{};di(l,ui),di(p,pi),o.top?t.y=Math.min(Math.max(p.top+r.top,s.y),l.top+r.top):o.bottom&&(t.y=Math.max(Math.min(p.bottom+r.bottom,s.y),l.bottom+r.bottom)),o.left?t.x=Math.min(Math.max(p.left+r.left,s.x),l.left+r.left):o.right&&(t.x=Math.max(Math.min(p.right+r.right,s.x),l.right+r.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};fe.restrictEdges=fi;var ra=(0,te.makeModifier)(fi,"restrictEdges");fe.default=ra;var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.restrictRect=Ne.default=void 0;var aa=(0,I.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},oe.restrict.defaults),hi={start:oe.restrict.start,set:oe.restrict.set,defaults:aa};Ne.restrictRect=hi;var sa=(0,te.makeModifier)(hi,"restrictRect");Ne.default=sa;var Be={};Object.defineProperty(Be,"__esModule",{value:!0}),Be.restrictSize=Be.default=void 0;var la={width:-1/0,height:-1/0},ca={width:1/0,height:1/0},vi={start:function(e){return fe.restrictEdges.start(e)},set:function(e){var t=e.interaction,o=e.state,n=e.rect,i=e.edges,r=o.options;if(i){var c=G.tlbrToXywh((0,oe.getRestrictionRect)(r.min,t,e.coords))||la,s=G.tlbrToXywh((0,oe.getRestrictionRect)(r.max,t,e.coords))||ca;o.options={endOnly:r.endOnly,inner:(0,I.default)({},fe.restrictEdges.noInner),outer:(0,I.default)({},fe.restrictEdges.noOuter)},i.top?(o.options.inner.top=n.bottom-c.height,o.options.outer.top=n.bottom-s.height):i.bottom&&(o.options.inner.bottom=n.top+c.height,o.options.outer.bottom=n.top+s.height),i.left?(o.options.inner.left=n.right-c.width,o.options.outer.left=n.right-s.width):i.right&&(o.options.inner.right=n.left+c.width,o.options.outer.right=n.left+s.width),fe.restrictEdges.set(e),o.options=r}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Be.restrictSize=vi;var ua=(0,te.makeModifier)(vi,"restrictSize");Be.default=ua;var An={};Object.defineProperty(An,"__esModule",{value:!0}),Object.defineProperty(An,"default",{enumerable:!0,get:function(){return Ce.default}});var xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.snap=xe.default=void 0;var gi={start:function(e){var t,o=e.interaction,n=e.interactable,i=e.element,r=e.rect,c=e.state,s=e.startOffset,l=c.options,p=l.offsetWithOrigin?function(b){var w=b.interaction.element;return(0,G.rectToXY)((0,G.resolveRectLike)(b.state.options.origin,null,null,[w]))||(0,ke.default)(b.interactable,w,b.interaction.prepared.name)}(e):{x:0,y:0};if(l.offset==="startCoords")t={x:o.coords.start.page.x,y:o.coords.start.page.y};else{var h=(0,G.resolveRectLike)(l.offset,n,i,[o]);(t=(0,G.rectToXY)(h)||{x:0,y:0}).x+=p.x,t.y+=p.y}var m=l.relativePoints;c.offsets=r&&m&&m.length?m.map(function(b,w){return{index:w,relativePoint:b,x:s.left-r.width*b.x+t.x,y:s.top-r.height*b.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,o=e.coords,n=e.state,i=n.options,r=n.offsets,c=(0,ke.default)(t.interactable,t.element,t.prepared.name),s=(0,I.default)({},o),l=[];i.offsetWithOrigin||(s.x-=c.x,s.y-=c.y);for(var p=0;p<r.length;p++)for(var h=r[p],m=s.x-h.x,b=s.y-h.y,w=0,y=i.targets.length;w<y;w++){var P,_=i.targets[w];(P=d.default.func(_)?_(m,b,t._proxy,h,w):_)&&l.push({x:(d.default.number(P.x)?P.x:m)+h.x,y:(d.default.number(P.y)?P.y:b)+h.y,range:d.default.number(P.range)?P.range:i.range,source:_,index:w,offset:h})}for(var x={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},C=0;C<l.length;C++){var j=l[C],F=j.range,X=j.x-s.x,Z=j.y-s.y,B=(0,we.default)(X,Z),Y=B<=F;F===1/0&&x.inRange&&x.range!==1/0&&(Y=!1),x.target&&!(Y?x.inRange&&F!==1/0?B/F<x.distance/x.range:F===1/0&&x.range!==1/0||B<x.distance:!x.inRange&&B<x.distance)||(x.target=j,x.distance=B,x.range=F,x.inRange=Y,x.delta.x=X,x.delta.y=Z)}return x.inRange&&(o.x=x.target.x,o.y=x.target.y),n.closest=x,x},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};xe.snap=gi;var pa=(0,te.makeModifier)(gi,"snap");xe.default=pa;var me={};function mi(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(me,"__esModule",{value:!0}),me.snapSize=me.default=void 0;var yi={start:function(e){var t=e.state,o=e.edges,n=t.options;if(!o)return null;e.state={options:{targets:null,relativePoints:[{x:o.left?0:1,y:o.top?0:1}],offset:n.offset||"self",origin:{x:0,y:0},range:n.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],xe.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,o,n=e.interaction,i=e.state,r=e.coords,c=i.options,s=i.offsets,l={x:r.x-s[0].x,y:r.y-s[0].y};i.options=(0,I.default)({},c),i.options.targets=[];for(var p=0;p<(c.targets||[]).length;p++){var h=(c.targets||[])[p],m=void 0;if(m=d.default.func(h)?h(l.x,l.y,n):h){for(var b=0;b<i.targetFields.length;b++){var w=(t=i.targetFields[b],o=2,function(x){if(Array.isArray(x))return x}(t)||function(x,C){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(x)){var j=[],F=!0,X=!1,Z=void 0;try{for(var B,Y=x[Symbol.iterator]();!(F=(B=Y.next()).done)&&(j.push(B.value),!C||j.length!==C);F=!0);}catch(ue){X=!0,Z=ue}finally{try{F||Y.return==null||Y.return()}finally{if(X)throw Z}}return j}}(t,o)||function(x,C){if(x){if(typeof x=="string")return mi(x,C);var j=Object.prototype.toString.call(x).slice(8,-1);return j==="Object"&&x.constructor&&(j=x.constructor.name),j==="Map"||j==="Set"?Array.from(x):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?mi(x,C):void 0}}(t,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),y=w[0],P=w[1];if(y in m||P in m){m.x=m[y],m.y=m[P];break}}i.options.targets.push(m)}}var _=xe.snap.set(e);return i.options=c,_},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};me.snapSize=yi;var da=(0,te.makeModifier)(yi,"snapSize");me.default=da;var qe={};Object.defineProperty(qe,"__esModule",{value:!0}),qe.snapEdges=qe.default=void 0;var bi={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],me.snapSize.start(e)):null},set:me.snapSize.set,defaults:(0,I.default)((0,Me.default)(me.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};qe.snapEdges=bi;var fa=(0,te.makeModifier)(bi,"snapEdges");qe.default=fa;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0}),Object.defineProperty(Dn,"default",{enumerable:!0,get:function(){return Ce.default}});var jn={};Object.defineProperty(jn,"__esModule",{value:!0}),Object.defineProperty(jn,"default",{enumerable:!0,get:function(){return Ce.default}});var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.default=void 0;var ha={aspectRatio:Ve.default,restrictEdges:fe.default,restrict:oe.default,restrictRect:Ne.default,restrictSize:Be.default,snapEdges:qe.default,snap:xe.default,snapSize:me.default,spring:Dn.default,avoid:Ln.default,transform:jn.default,rubberband:An.default};Xe.default=ha;var qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.default=void 0;var va={id:"modifiers",install:function(e){var t=e.interactStatic;for(var o in e.usePlugin(te.default),e.usePlugin(Bt.default),t.modifiers=Xe.default,Xe.default){var n=Xe.default[o],i=n._defaults,r=n._methods;i._methods=r,e.defaults.perAction[o]=i}}};qt.default=va;var Le={};function wi(e){return(wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ga(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ei(e,t){return(Ei=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function ma(e,t){return!t||wi(t)!=="object"&&typeof t!="function"?Hn(e):t}function Hn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(Le,"__esModule",{value:!0}),Le.PointerEvent=Le.default=void 0;var ya=function(e){(function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),l&&Ei(s,l)})(c,e);var t,o,n,i,r=(n=c,i=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}(),function(){var s,l=Rn(n);if(i){var p=Rn(this).constructor;s=Reflect.construct(l,arguments,p)}else s=l.apply(this,arguments);return ma(this,s)});function c(s,l,p,h,m,b){var w;if(function(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}(this,c),(w=r.call(this,m)).type=void 0,w.originalEvent=void 0,w.pointerId=void 0,w.pointerType=void 0,w.double=void 0,w.pageX=void 0,w.pageY=void 0,w.clientX=void 0,w.clientY=void 0,w.dt=void 0,w.eventable=void 0,L.pointerExtend(Hn(w),p),p!==l&&L.pointerExtend(Hn(w),l),w.timeStamp=b,w.originalEvent=p,w.type=s,w.pointerId=L.getPointerId(l),w.pointerType=L.getPointerType(l),w.target=h,w.currentTarget=null,s==="tap"){var y=m.getPointerIndex(l);w.dt=w.timeStamp-m.pointers[y].downTime;var P=w.timeStamp-m.tapTime;w.double=!!(m.prevTap&&m.prevTap.type!=="doubletap"&&m.prevTap.target===w.target&&P<500)}else s==="doubletap"&&(w.dt=l.timeStamp-m.tapTime);return w}return t=c,(o=[{key:"_subtractOrigin",value:function(s){var l=s.x,p=s.y;return this.pageX-=l,this.pageY-=p,this.clientX-=l,this.clientY-=p,this}},{key:"_addOrigin",value:function(s){var l=s.x,p=s.y;return this.pageX+=l,this.pageY+=p,this.clientX+=l,this.clientY+=p,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&ga(t.prototype,o),c}(je.BaseEvent);Le.PointerEvent=Le.default=ya;var lt={};Object.defineProperty(lt,"__esModule",{value:!0}),lt.default=void 0;var Xt={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=Xt,e.defaults.actions.pointerEvents=Xt.defaults,(0,I.default)(e.actions.phaselessTypes,Xt.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,o=e.pointerInfo;!t&&o.hold||(o.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var o=e.interaction,n=e.pointer,i=e.event,r=e.eventTarget;e.duplicate||o.pointerIsDown&&!o.pointerWasMoved||(o.pointerIsDown&&zn(e),Se({interaction:o,pointer:n,event:i,eventTarget:r,type:"move"},t))},"interactions:down":function(e,t){(function(o,n){for(var i=o.interaction,r=o.pointer,c=o.event,s=o.eventTarget,l=o.pointerIndex,p=i.pointers[l].hold,h=A.getPath(s),m={interaction:i,pointer:r,event:c,eventTarget:s,type:"hold",targets:[],path:h,node:null},b=0;b<h.length;b++){var w=h[b];m.node=w,n.fire("pointerEvents:collect-targets",m)}if(m.targets.length){for(var y=1/0,P=0;P<m.targets.length;P++){var _=m.targets[P].eventable.options.holdDuration;_<y&&(y=_)}p.duration=y,p.timeout=setTimeout(function(){Se({interaction:i,eventTarget:s,pointer:r,event:c,type:"hold"},n)},y)}})(e,t),Se(e,t)},"interactions:up":function(e,t){zn(e),Se(e,t),function(o,n){var i=o.interaction,r=o.pointer,c=o.event,s=o.eventTarget;i.pointerWasMoved||Se({interaction:i,eventTarget:s,pointer:r,event:c,type:"tap"},n)}(e,t)},"interactions:cancel":function(e,t){zn(e),Se(e,t)}},PointerEvent:Le.PointerEvent,fire:Se,collectEventTargets:xi,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Se(e,t){var o=e.interaction,n=e.pointer,i=e.event,r=e.eventTarget,c=e.type,s=e.targets,l=s===void 0?xi(e,t):s,p=new Le.PointerEvent(c,n,i,r,o,t.now());t.fire("pointerEvents:new",{pointerEvent:p});for(var h={interaction:o,pointer:n,event:i,eventTarget:r,targets:l,type:c,pointerEvent:p},m=0;m<l.length;m++){var b=l[m];for(var w in b.props||{})p[w]=b.props[w];var y=(0,ke.default)(b.eventable,b.node);if(p._subtractOrigin(y),p.eventable=b.eventable,p.currentTarget=b.node,b.eventable.fire(p),p._addOrigin(y),p.immediatePropagationStopped||p.propagationStopped&&m+1<l.length&&l[m+1].node!==p.currentTarget)break}if(t.fire("pointerEvents:fired",h),c==="tap"){var P=p.double?Se({interaction:o,pointer:n,event:i,eventTarget:r,type:"doubletap"},t):p;o.prevTap=P,o.tapTime=P.timeStamp}return p}function xi(e,t){var o=e.interaction,n=e.pointer,i=e.event,r=e.eventTarget,c=e.type,s=o.getPointerIndex(n),l=o.pointers[s];if(c==="tap"&&(o.pointerWasMoved||!l||l.downTarget!==r))return[];for(var p=A.getPath(r),h={interaction:o,pointer:n,event:i,eventTarget:r,type:c,path:p,targets:[],node:null},m=0;m<p.length;m++){var b=p[m];h.node=b,t.fire("pointerEvents:collect-targets",h)}return c==="hold"&&(h.targets=h.targets.filter(function(w){var y;return w.eventable.options.holdDuration===((y=o.pointers[s])==null?void 0:y.hold.duration)})),h.targets}function zn(e){var t=e.interaction,o=e.pointerIndex,n=t.pointers[o].hold;n&&n.timeout&&(clearTimeout(n.timeout),n.timeout=null)}var ba=Xt;lt.default=ba;var Yt={};function wa(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.default=void 0;var Ea={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(lt.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=wa,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var o=e.interaction,n=e.pointerEvent,i=e.eventTarget,r=e.targets;if(n.type==="hold"&&r.length){var c=r[0].eventable.options.holdRepeatInterval;c<=0||(o.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:o,eventTarget:i,type:"hold",pointer:n,event:n},t)},c))}}})};Yt.default=Ea;var Ut={};function xa(e){return(0,I.default)(this.events.options,e),this}Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.default=void 0;var Sa={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=xa;var o=t.prototype._backCompatOption;t.prototype._backCompatOption=function(n,i){var r=o.call(this,n,i);return r===this&&(this.events.options[n]=i),r}},listeners:{"pointerEvents:collect-targets":function(e,t){var o=e.targets,n=e.node,i=e.type,r=e.eventTarget;t.interactables.forEachMatch(n,function(c){var s=c.events,l=s.options;s.types[i]&&s.types[i].length&&c.testIgnoreAllow(l,n,r)&&o.push({node:n,eventable:s,props:{interactable:c}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(o){return t.getRect(o)}},"interactable:set":function(e,t){var o=e.interactable,n=e.options;(0,I.default)(o.events.options,t.pointerEvents.defaults),(0,I.default)(o.events.options,n.pointerEvents||{})}}};Ut.default=Sa;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.default=void 0;var Pa={id:"pointer-events",install:function(e){e.usePlugin(lt),e.usePlugin(Yt.default),e.usePlugin(Ut.default)}};Kt.default=Pa;var ct={};function Si(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(o){return function(n,i,r){for(var c=d.default.string(n.target)?K.from(n._context.querySelectorAll(n.target)):[n.target],s=r.window.Promise,l=s?[]:null,p=function(){var m=c[h],b=n.getRect(m);if(!b)return"break";var w=K.find(r.interactions.list,function(C){return C.interacting()&&C.interactable===n&&C.element===m&&C.prepared.name===i.name}),y=void 0;if(w)w.move(),l&&(y=w._reflowPromise||new s(function(C){w._reflowResolve=C}));else{var P=(0,G.tlbrToXywh)(b),_={page:{x:P.x,y:P.y},client:{x:P.x,y:P.y},timeStamp:r.now()},x=L.coordsToEvent(_);y=function(C,j,F,X,Z){var B=C.interactions.new({pointerType:"reflow"}),Y={interaction:B,event:Z,pointer:Z,eventTarget:F,phase:"reflow"};B.interactable=j,B.element=F,B.prevEvent=Z,B.updatePointer(Z,Z,F,!0),L.setZeroCoords(B.coords.delta),(0,ae.copyAction)(B.prepared,X),B._doPhase(Y);var ue=C.window.Promise,ye=ue?new ue(function(Wn){B._reflowResolve=Wn}):void 0;return B._reflowPromise=ye,B.start(X,j,F),B._interacting?(B.move(Y),B.end(Z)):(B.stop(),B._reflowResolve()),B.removePointer(Z,Z),ye}(r,n,m,i,x)}l&&l.push(y)},h=0;h<c.length&&p()!=="break";h++);return l&&s.all(l).then(function(){return n})}(this,o,e)}}Object.defineProperty(ct,"__esModule",{value:!0}),ct.install=Si,ct.default=void 0;var ka={id:"reflow",install:Si,listeners:{"interactions:stop":function(e,t){var o=e.interaction;o.pointerType==="reflow"&&(o._reflowResolve&&o._reflowResolve(),K.remove(t.interactions.list,o))}}};ct.default=ka;var ce={exports:{}};function Pi(e){return(Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(ce.exports,"__esModule",{value:!0}),ce.exports.default=void 0,ne.default.use(Re.default),ne.default.use(_e.default),ne.default.use(Kt.default),ne.default.use(We.default),ne.default.use(qt.default),ne.default.use(Tt.default),ne.default.use(wt.default),ne.default.use(Ee.default),ne.default.use(ct.default),ne.default.use(Ot.default);var Ta=ne.default;if(ce.exports.default=Ta,Pi(ce)==="object"&&ce)try{ce.exports=ne.default}catch(e){}ne.default.default=ne.default,ce=ce.exports;var Ie={exports:{}};function ki(e){return(ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(Ie.exports,"__esModule",{value:!0}),Ie.exports.default=void 0;var Ma=ce.default;if(Ie.exports.default=Ma,ki(Ie)==="object"&&Ie)try{Ie.exports=ce.default}catch(e){}return ce.default.default=ce.default,Ie.exports})});Aa(exports,{default:()=>on,genId:()=>Xn});function ie(g,a){let u=Object.keys(a).map(f=>ja(g,f,a[f]));return u.length===1?u[0]:function(){u.forEach(f=>f())}}function ja(g,a,u){let f=g[a],v=g.hasOwnProperty(a),d=v?f:function(){return Object.getPrototypeOf(g)[a].apply(this,arguments)},E=u(d);return f&&Object.setPrototypeOf(E,f),Object.setPrototypeOf(k,E),g[a]=k,S;function k(...T){return E===d&&g[a]===k&&S(),E.apply(this,T)}function S(){g[a]===k&&(v?g[a]=d:delete g[a]),E!==d&&(E=d,Object.setPrototypeOf(k,f||Function))}}var V=be(require("obsidian"));var Pe=be(require("obsidian"));var H=be(require("obsidian"));function Fn(g){let a=_i(),[u,f]=a(g);if(!u)return!1;if(f||(f="px"),["em","ex","ch","rem","vw","vh","vmin","vmax","%","cm","mm","in","px","pt","pc"].contains(f))return u+f}function pe(g,a){var u;return g instanceof a||((u=g==null?void 0:g.instanceOf)==null?void 0:u.call(g,a))}var Ci=10,Vn=60;function Ye(g){let a=g.body.querySelector(".app-container, .workspace-split"),u=g.body.querySelector(".mod-left.workspace-ribbon"),f=a.offsetTop,v=g.body.hasClass("hider-ribbon")?0:u?u.offsetWidth:0;return{top:f,left:v}}function Ha(g){let a=g.getAttribute("data-orig-height"),u=g.getAttribute("data-orig-width"),f=parseFloat(g.getAttribute("data-orig-pos-left")||"0"),v=parseFloat(g.getAttribute("data-orig-pos-top")||"0"),d=Ye(g.ownerDocument).top;return v<d&&(v=d),{height:a,width:u,top:v,left:f}}function Ue(g,a){let{height:u,width:f,top:v,left:d}=Ha(g);a||(g.removeAttribute("data-orig-width"),g.removeAttribute("data-orig-height"),g.removeAttribute("data-orig-pos-left"),g.removeAttribute("data-orig-pos-top")),f&&(g.style.width=f+"px"),u&&(g.style.height=u+"px"),v&&(g.style.top=v+"px",g.setAttribute("data-y",String(v))),d&&(g.style.left=d+"px")}function Gt(g){if(g.hasClass("snap-to-viewport")){g.removeClass("snap-to-viewport"),Ue(g);return}}function Nn(g,a){let u=g.querySelector(".view-content").offsetHeight;u=a?-u:u;let f=parseFloat(g.getAttribute("data-y")||"0")+u;g.style.top=f+"px",g.setAttribute("data-y",String(f))}function ut(g){g.hasAttribute("data-orig-width")||g.setAttribute("data-orig-width",String(g.offsetWidth)),g.hasAttribute("data-orig-height")||g.setAttribute("data-orig-height",String(g.offsetHeight)),g.hasAttribute("data-orig-pos-left")||g.setAttribute("data-orig-pos-left",String(parseFloat(g.style.left))),g.hasAttribute("data-orig-pos-top")||g.setAttribute("data-orig-pos-top",String(parseFloat(g.style.top)))}function Li(g){return g.hasAttribute("data-orig-width")&&g.hasAttribute("data-orig-height")&&g.hasAttribute("data-orig-pos-left")&&g.hasAttribute("data-orig-pos-top")}function Bn(g){let a=g.target,u=g.client.x-g.rect.left,f=g.rect.width,v=u/f,d=a.offsetWidth,E=String(g.client.x-v*d),k=String(g.client.y);a.setAttribute("data-x",String(E)),a.setAttribute("data-y",String(k))}function Ae(g,a,u){g.addClass(`snap-to-${a}`),g.style.top=u.top+"px",g.style.height=`calc(100vh - ${u.top}px)`,g.style.left=a==="right"?"unset":u.left+"px",a==="viewport"&&(g.style.width=`calc(100vw - ${u.left}px)`)}function Ii(g){let a=g.target,{x:u,y:f}=a.dataset;if(u=u||a.style.left,f=f||a.style.top,u=String((parseFloat(u)||0)+g.dx),f=String((parseFloat(f)||0)+g.dy),this.plugin.settings.snapToEdges){let v,d=a.ownerDocument,E=g.client.x<Ci,k=g.client.x>d.body.offsetWidth-Ci,S=g.client.y<30;if((E||k||S)&&(v=Ye(d),ut(a)),E&&g.buttons){Ae(a,"left",v);return}else if(k&&g.buttons){Ae(a,"right",v);return}else if(S&&g.buttons){Ae(a,"viewport",v);return}else if(a.hasClass("snap-to-viewport")){if(g.client.y<Vn)return;a.removeClass("snap-to-viewport"),Ue(a),Bn(g);return}else if(a.hasClass("snap-to-left")){if(g.client.y<Vn)return;a.removeClass("snap-to-left"),Ue(a),Bn(g);return}else if(a.hasClass("snap-to-right")){if(g.client.y<Vn)return;a.removeClass("snap-to-right"),Ue(a),Bn(g);return}}a.style.top=f?f+"px":a.style.top,a.style.left=u?u+"px":a.style.left,a.setAttribute("data-x",String(u)),a.setAttribute("data-y",String(f))}var Ai=["left","right","viewport"],Di=(g,a)=>{var f;let u=(f=U.activePopover)==null?void 0:f.hoverEl;if(u&&pe(u,HTMLElement)){if(!a){Li(u)?Ue(u,!0):ut(u),u.removeClasses(["snap-to-left","snap-to-right","snap-to-viewport"]);let v=Ye(u.ownerDocument);Ae(u,g,v)}return!0}return!1},ji=g=>{var u;let a=(u=U.activePopover)==null?void 0:u.hoverEl;return a&&pe(a,HTMLElement)?(g||Li(a)&&(a.removeClasses(["snap-to-left","snap-to-right","snap-to-viewport"]),Ue(a)),!0):!1},Hi=g=>{var f;let a=(f=U.activePopover)==null?void 0:f.hoverEl,u=U.activePopovers().find(v=>v.hoverEl===a);return u?(g||u.toggleMinimized(),!0):!1};var Zt=new WeakMap,Qt={x:0,y:0};function Ra(g){let a=function(){return Object.setPrototypeOf(new H.Component,new.target.prototype)};return a.prototype=g.prototype,Object.setPrototypeOf(a,g)}var qn=new WeakMap,zi,Wi,Fi,Vi,Ni,U=class extends Ra(H.HoverPopover){constructor(a,u,f,v,d){super();this.targetEl=u;this.plugin=f;this.onShowCallback=d;this.isPinned=this.plugin.settings.autoPin==="always";this.abortController=this.addChild(new H.Component);this.detaching=!1;this.opening=!1;this.rootSplit=new H.WorkspaceSplit(window.app.workspace,"vertical");this.targetRect=(zi=this.targetEl)==null?void 0:zi.getBoundingClientRect();this.oldPopover=(Wi=this.parent)==null?void 0:Wi.hoverPopover;this.document=(Ni=(Vi=(Fi=this.targetEl)==null?void 0:Fi.ownerDocument)!=null?Vi:window.activeDocument)!=null?Ni:window.document;this.interactStatic=this.plugin.interact.forDom(this.document.body).interact;this.id=Xn(8);this.hoverEl=this.document.defaultView.createDiv({cls:"popover hover-popover",attr:{id:"he"+this.id}});this.activate=(0,H.debounce)(()=>{let{win:a}=this.document,u=qn.get(a);u||qn.set(a,u=new Set),u.delete(this),u.add(this),a.requestAnimationFrame(()=>{let f=41;Array.from(u).reverse().forEach(v=>{v.hoverEl.style.setProperty("--he-popover-layer-inactive",""+f),f>31&&f--})})},100);v===void 0&&(v=300),this.onTarget=!0,this.onHover=!1,this.shownPos=null,this.parent=a,this.waitTime=v,this.state=H.PopoverState.Showing;let{hoverEl:E}=this;this.onMouseIn=this._onMouseIn.bind(this),this.onMouseOut=this._onMouseOut.bind(this),this.abortController.load(),u&&(u.addEventListener("mouseover",this.onMouseIn),u.addEventListener("mouseout",this.onMouseOut)),E.addEventListener("mouseover",S=>{Jt(S,E)&&(this.onHover=!0,this.onTarget=!1,this.transition())}),E.addEventListener("mouseout",S=>{Jt(S,E)&&(this.onHover=!1,this.onTarget=!1,this.transition())}),this.timer=window.setTimeout(this.show.bind(this),v),this.document.addEventListener("mousemove",dt),Zt.set(this.hoverEl,this),this.hoverEl.addClass("hover-editor"),this.containerEl=this.hoverEl.createDiv("popover-content"),this.buildWindowControls(),this.setInitialDimensions();let k=this.pinEl=this.document.defaultView.createEl("a","popover-header-icon mod-pin-popover");this.titleEl.prepend(this.pinEl),k.onclick=()=>{this.togglePin()},H.requireApiVersion&&(0,H.requireApiVersion)("0.13.27")?(0,H.setIcon)(k,"lucide-pin",17):(0,H.setIcon)(k,"pin",17),this.createResizeHandles(),this.plugin.settings.imageZoom&&this.registerZoomImageHandlers()}static activeWindows(){let a=[window],{floatingSplit:u}=app.workspace;if(u)for(let f of u.children)f.win&&a.push(f.win);return a}static containerForDocument(a){if(a!==document&&app.workspace.floatingSplit){for(let u of app.workspace.floatingSplit.children)if(u.doc===a)return u}return app.workspace.rootSplit}static activePopovers(){return this.activeWindows().flatMap(this.popoversForWindow)}static popoversForWindow(a){var u,f;return Array.prototype.slice.call((f=(u=a==null?void 0:a.document)==null?void 0:u.body.querySelectorAll(".hover-popover"))!=null?f:[]).map(v=>Zt.get(v)).filter(v=>v)}static forLeaf(a){let u=a&&document.body.matchParent.call(a.containerEl,".hover-popover");return u?Zt.get(u):void 0}static iteratePopoverLeaves(a,u){for(let f of this.activePopovers())if(f.rootSplit&&a.iterateLeaves(u,f.rootSplit))return!0;return!1}adopt(a){if(this.targetEl===a)return!0;let u=a==null?void 0:a.getBoundingClientRect();if(Ri(this.targetRect,u)){this.targetEl.removeEventListener("mouseover",this.onMouseIn),this.targetEl.removeEventListener("mouseout",this.onMouseOut),a.addEventListener("mouseover",this.onMouseIn),a.addEventListener("mouseout",this.onMouseOut),this.targetEl=a,this.targetRect=u;let{x:f,y:v}=Qt;return this.onTarget=Ri(u,{left:f,right:f,top:v,bottom:v}),this.transition(),!0}else this.onTarget=!1,this.transition();return!1}onZoomOut(){this.document.body.removeEventListener("mouseup",this.boundOnZoomOut),this.document.body.removeEventListener("dragend",this.boundOnZoomOut),this.hoverEl.hasClass("do-not-restore")?this.hoverEl.removeClass("do-not-restore"):Gt(this.hoverEl)}onZoomIn(a){if(a.button!==0)return;this.hoverEl.hasClass("snap-to-viewport")&&this.hoverEl.addClass("do-not-restore"),this.document.body.addEventListener("mouseup",this.boundOnZoomOut,{once:!0}),this.document.body.addEventListener("dragend",this.boundOnZoomOut,{once:!0});let u=Ye(this.document);return ut(this.hoverEl),Ae(this.hoverEl,"viewport",u),!1}registerZoomImageHandlers(){this.hoverEl.addClass("image-zoom"),this.boundOnZoomOut=this.onZoomOut.bind(this),this.hoverEl.on("mousedown","img",this.onZoomIn.bind(this))}togglePin(a){var u;this.activate(),a===void 0&&(a=!this.isPinned),a&&((u=this.abortController)==null||u.unload()),this.hoverEl.toggleClass("is-pinned",a),this.pinEl.toggleClass("is-active",a),this.isPinned=a}getDefaultMode(){var a,u;return((u=(a=this.parent)==null?void 0:a.view)==null?void 0:u.getMode)?this.parent.view.getMode():"preview"}updateLeaves(){this.onTarget&&this.targetEl&&!this.document.contains(this.targetEl)&&(this.onTarget=!1,this.transition());let a=0;this.plugin.app.workspace.iterateLeaves(u=>{a++},this.rootSplit),a===0?this.hide():a>1&&this.toggleConstrainAspectRatio(!1),this.hoverEl.setAttribute("data-leaf-count",a.toString())}get headerHeight(){let a=this.hoverEl;return this.titleEl.getBoundingClientRect().bottom-a.getBoundingClientRect().top}toggleMinimized(){var f;this.activate();let a=this.hoverEl,u=this.headerHeight;if(!a.hasAttribute("data-restore-height"))this.plugin.settings.rollDown&&Nn(a,!1),a.setAttribute("data-restore-height",String(a.offsetHeight)),a.style.minHeight=u+"px",a.style.maxHeight=u+"px",a.toggleClass("is-minimized",!0);else{let v=a.getAttribute("data-restore-height");v&&(a.removeAttribute("data-restore-height"),a.style.height=v+"px"),a.style.removeProperty("max-height"),a.toggleClass("is-minimized",!1),this.plugin.settings.rollDown&&Nn(a,!0)}(f=this.interact)==null||f.reflow({name:"drag",axis:"xy"})}attachLeaf(){this.rootSplit.getRoot=()=>app.workspace[this.document===document?"rootSplit":"floatingSplit"],this.rootSplit.getContainer=()=>U.containerForDocument(this.document),this.titleEl.insertAdjacentElement("afterend",this.rootSplit.containerEl);let a=this.plugin.app.workspace.createLeafInParent(this.rootSplit,0);return this.updateLeaves(),a}onload(){super.onload(),this.registerEvent(this.plugin.app.workspace.on("layout-change",this.updateLeaves,this)),this.registerEvent(app.workspace.on("layout-change",()=>{this.rootSplit.children.forEach((a,u)=>{a instanceof H.WorkspaceTabs&&this.rootSplit.replaceChild(u,a.children[0])})}))}leaves(){let a=[];return this.plugin.app.workspace.iterateLeaves(u=>{a.push(u)},this.rootSplit),a}setInitialDimensions(){this.hoverEl.style.height=this.plugin.settings.initialHeight,this.hoverEl.style.width=this.plugin.settings.initialWidth}adjustHeight(a){this.hoverEl.style.height=this.hoverEl.offsetHeight+a+"px"}toggleViewHeader(a,u){var d;this.activate(),a===void 0&&(a=!this.hoverEl.hasClass("show-navbar")),(d=this.hideNavBarEl)==null||d.toggleClass("is-active",a),this.hoverEl.toggleClass("show-navbar",a);let f=this.hoverEl.querySelector(".view-header");if(!f||u)return;let v=parseFloat(getComputedStyle(f).getPropertyValue("--he-view-header-height"));this.hoverEl.style.transition="height 0.2s",this.adjustHeight(a?v:-v),setTimeout(()=>{this.hoverEl.style.removeProperty("transition")},200),this.requestLeafMeasure()}buildWindowControls(){this.titleEl=this.document.defaultView.createDiv("popover-titlebar"),this.titleEl.createDiv("popover-title");let a=this.titleEl.createDiv("popover-actions"),u=this.hideNavBarEl=a.createEl("a","popover-action mod-show-navbar");(0,H.setIcon)(u,"sidebar-open",14),u.addEventListener("click",E=>{this.toggleViewHeader()}),this.plugin.settings.showViewHeader&&this.toggleViewHeader(!0,!0);let f=a.createEl("a","popover-action mod-minimize");(0,H.setIcon)(f,"minus"),f.addEventListener("click",E=>{Gt(this.hoverEl),this.toggleMinimized()});let v=a.createEl("a","popover-action mod-maximize");(0,H.setIcon)(v,"maximize",14),v.addEventListener("click",E=>{if(this.activate(),this.hoverEl.hasClass("snap-to-viewport")){(0,H.setIcon)(v,"maximize",14),Gt(this.hoverEl);return}(0,H.setIcon)(v,"minimize",14);let k=Ye(this.document);ut(this.hoverEl),Ae(this.hoverEl,"viewport",k)});let d=a.createEl("a","popover-action mod-close");(0,H.setIcon)(d,"x"),d.addEventListener("click",E=>{this.hide()}),this.containerEl.prepend(this.titleEl)}requestLeafMeasure(){let a=this.leaves();a.length&&setTimeout(()=>{a.forEach(u=>u.onResize())},200)}onShow(){var u,f;let{closeDelay:a}=this.plugin.settings;setTimeout(()=>this.waitTime=a,a),(u=this.oldPopover)==null||u.hide(),this.oldPopover=null,this.activate(),this.hoverEl.toggleClass("is-new",!0),this.document.body.addEventListener("click",()=>{this.hoverEl.toggleClass("is-new",!1)},{once:!0,capture:!0}),this.parent&&(this.parent.hoverPopover=this),(0,H.requireApiVersion)("0.15.1")&&!(0,H.requireApiVersion)("0.15.7")&&app.workspace.iterateLeaves(v=>{var d,E;v.view instanceof H.MarkdownView&&((E=(d=v.view.editMode).reinit)==null||E.call(d))},this.rootSplit),this.togglePin(this.isPinned),(f=this.onShowCallback)==null||f.call(this),this.onShowCallback=void 0}startBounce(){this.bounce=setTimeout(()=>{this.hoverEl.style.left=parseFloat(this.hoverEl.style.left)+this.xspeed+"px",this.hoverEl.style.top=parseFloat(this.hoverEl.style.top)+this.yspeed+"px",this.checkHitBox(),this.startBounce()},20)}toggleBounce(){if(this.xspeed=7,this.yspeed=7,this.bounce){clearTimeout(this.bounce),this.bounce=void 0;let a=this.hoverEl.querySelector(".view-content");(a==null?void 0:a.style)&&a.style.removeProperty("backgroundColor")}else this.startBounce()}checkHitBox(){let a=parseFloat(this.hoverEl.style.left),u=parseFloat(this.hoverEl.style.top),f=parseFloat(this.hoverEl.style.width),v=parseFloat(this.hoverEl.style.height);(a<=0||a+f>=this.document.body.offsetWidth)&&(this.xspeed*=-1,this.pickColor()),(u<=0||u+v>=this.document.body.offsetHeight)&&(this.yspeed*=-1,this.pickColor())}pickColor(){let a=Math.random()*(254-0)+0,u=Math.random()*(254-0)+0,f=Math.random()*(254-0)+0,v=this.hoverEl.querySelector(".view-content");(v==null?void 0:v.style)&&(v.style.backgroundColor="rgb("+a+","+u+", "+f+")")}transition(){this.shouldShow()?this.state===H.PopoverState.Hiding&&(this.state=H.PopoverState.Shown,clearTimeout(this.timer)):this.state===H.PopoverState.Showing?this.hide():this.state===H.PopoverState.Shown&&(this.state=H.PopoverState.Hiding,this.timer=window.setTimeout(()=>{this.shouldShow()?this.transition():this.hide()},this.waitTime))}detect(a){let{targetEl:u,hoverEl:f}=this;u&&(this.onTarget=a===u||u.contains(a)),this.onHover=a===f||f.contains(a)}_onMouseIn(a){this.targetEl&&!Jt(a,this.targetEl)||(this.onTarget=!0,this.transition())}_onMouseOut(a){this.targetEl&&!Jt(a,this.targetEl)||(this.onTarget=!1,this.transition())}position(a){a===void 0&&(a=this.shownPos);let u;if(a)u={top:a.y-10,bottom:a.y+10,left:a.x,right:a.x};else if(this.targetEl){let f=Wa(this.targetEl,this.document.body);u={top:f.top,bottom:f.top+this.targetEl.offsetHeight,left:f.left,right:f.left+this.targetEl.offsetWidth}}else u={top:0,bottom:0,left:0,right:0};this.document.body.appendChild(this.hoverEl),za(u,this.hoverEl,{gap:10},this.document),a&&setTimeout(()=>{let f=parseFloat(this.hoverEl.style.left),v=parseFloat(this.hoverEl.style.top);this.hoverEl.setAttribute("data-x",String(f)),this.hoverEl.setAttribute("data-y",String(v))},0)}shouldShow(){return this.shouldShowSelf()||this.shouldShowChild()}shouldShowChild(){return U.activePopovers().some(a=>a!==this&&a.targetEl&&this.hoverEl.contains(a.targetEl)?a.shouldShow():!1)}shouldShowSelf(){return!this.detaching&&!!(this.onTarget||this.onHover||this.state==H.PopoverState.Shown&&this.isPinned||this.document.querySelector(`body>.modal-container, body > #he${this.id} ~ .menu, body > #he${this.id} ~ .suggestion-container`))}calculateMinSize(){return{width:40,height:this.headerHeight}}calculateBoundaries(a,u,f){let v=f.element.closest("body"),d=(v==null?void 0:v.querySelector(".workspace"))||(v==null?void 0:v.querySelector(".workspace-window"));return d==null?void 0:d.getBoundingClientRect()}calculateMaxSize(a,u,f){let v=f.pointerType==="reflow"?this.document.body.offsetWidth/1.5:this.document.body.offsetWidth,d=f.pointerType==="reflow"?this.document.body.offsetHeight/1.5:this.document.body.offsetHeight;return{width:v,height:d}}toggleConstrainAspectRatio(a,u){let f=this.resizeModifiers.find(v=>v.name=="aspectRatio");!f||(a===void 0&&(a=!f.options.enabled),a?(f.enable(),this.constrainAspectRatio=!0,u!==void 0&&f.options.ratio!==u&&(f.options.ratio=u)):(f.disable(),this.constrainAspectRatio=!1))}registerInteract(){var T,O;let a=this.document.querySelector("div.app-container, div.workspace-split"),u=this,f=function(M,N,R){let{top:q,right:D,bottom:W,left:Q,x:le,y:$,width:J,height:rn}=a.getBoundingClientRect(),A={top:q,right:D,bottom:W,left:Q,x:le,y:$,width:J,height:rn};return R.pointerType==="reflow"?u.dragElementRect.bottom=1:u.dragElementRect.bottom=0,u.plugin.settings.snapToEdges&&(A.top=q-30),A.bottom=W-u.headerHeight,A},v=!0,d,E=((T=this.hoverEl.dataset)==null?void 0:T.imgRatio)?parseFloat((O=this.hoverEl.dataset)==null?void 0:O.imgRatio):void 0;this.resizeModifiers=[this.interactStatic.modifiers.restrictEdges({outer:u.calculateBoundaries.bind(this)}),this.interactStatic.modifiers.restrictSize({min:u.calculateMinSize.bind(this),max:u.calculateMaxSize.bind(this)}),this.interactStatic.modifiers.aspectRatio({ratio:E||"preserve",enabled:!1})],this.dragElementRect={top:0,left:1,bottom:0,right:0};let k=[this.interactStatic.modifiers.restrict({restriction:f,offset:{top:0,left:40,bottom:0,right:40},elementRect:this.dragElementRect,endOnly:!1})];this.constrainAspectRatio&&E!==void 0&&this.toggleConstrainAspectRatio(!0,E);let S=this.interactStatic(this.hoverEl).preventDefault("always").on("doubletap",this.onDoubleTap.bind(this)).draggable({modifiers:k,allowFrom:".popover-titlebar",listeners:{start(M){M.buttons&&u.togglePin(!0),M.buttons&&pe(M.target,HTMLElement)&&(M.target.addClass("is-dragging"),u.activate())},end(M){pe(M.target,HTMLElement)&&M.target.removeClass("is-dragging")},move:Ii.bind(u)}}).resizable({edges:{top:".top-left, .top-right, .top",left:".top-left, .bottom-left, .left",bottom:".bottom-left, .bottom-right, .bottom",right:".top-right, .bottom-right, .right"},modifiers:this.resizeModifiers,listeners:{start(M){var D;let N=M.target;u.activate(),N.style.removeProperty("max-height");let R=(D=u.hoverEl.querySelector(".view-header"))==null?void 0:D.offsetHeight;d=u.titleEl.offsetHeight+R,v=!0,M.buttons&&u.togglePin(!0)},move:function(M){var Q,le,$;if(!(M==null?void 0:M.deltaRect)||!M.edges)return;let{target:N}=M,{x:R,y:q}=N.dataset,D=M.rect.height,W=M.rect.width;R=R||N.style.left,q=q||N.style.top,R=String((parseFloat(R)||0)+((Q=M.deltaRect)==null?void 0:Q.left)),q=String((parseFloat(q)||0)+((le=M.deltaRect)==null?void 0:le.top)),u.constrainAspectRatio&&E&&M.buttons!==void 0?(v&&(M.edges.top&&(M.edges.right||M.edges.left)?q=String(parseFloat(q)-d):M.edges.top?R=String(parseFloat(R)+d*E):M.edges.left&&!(M.edges.top||M.edges.bottom)&&(q=String(parseFloat(q)-d))),v=!1,(M.edges.top&&!(M.edges.right||M.edges.left)||M.edges.bottom&&!(M.edges.right||M.edges.left))&&(D=D-d,W=W-d*E),D=D+d,(N.hasClass("snap-to-left")||N.hasClass("snap-to-right"))&&(q=String(parseFloat(N.style.top)),R=String(parseFloat(N.style.left)))):E&&D>(($=this==null?void 0:this.document)==null?void 0:$.body.offsetHeight)&&(D=D/1.5,W=D*E),Object.assign(N.style,{width:`${W}px`,height:`${D}px`,top:`${q}px`,left:R==="NaN"?"unset":`${R}px`}),Object.assign(N.dataset,{x:R,y:q})},end:function(M){M.rect.height>u.headerHeight&&M.target.removeAttribute("data-restore-height"),S.reflow({name:"drag",axis:"xy"})}}});this.interact=S}createResizeHandles(){this.hoverEl.createDiv("resize-handle bottom-left"),this.hoverEl.createDiv("resize-handle bottom-right"),this.hoverEl.createDiv("resize-handle top-left"),this.hoverEl.createDiv("resize-handle top-right"),this.hoverEl.createDiv("resize-handle right"),this.hoverEl.createDiv("resize-handle left"),this.hoverEl.createDiv("resize-handle bottom"),this.hoverEl.createDiv("resize-handle top")}onDoubleTap(a){a.target.tagName==="DIV"&&a.target.closest(".popover-titlebar")&&(a.preventDefault(),this.togglePin(!0),this.toggleMinimized())}show(){var a,u;!this.targetEl||this.document.body.contains(this.targetEl)?(this.state=H.PopoverState.Shown,this.timer=0,this.shownPos=Qt,this.position(Qt),this.document.removeEventListener("mousemove",dt),this.onShow(),app.workspace.onLayoutChange(),this.load()):this.hide(),this.hoverEl.dataset.imgHeight&&this.hoverEl.dataset.imgWidth&&(this.hoverEl.style.height=parseFloat(this.hoverEl.dataset.imgHeight)+this.titleEl.offsetHeight+"px",this.hoverEl.style.width=parseFloat(this.hoverEl.dataset.imgWidth)+"px"),this.registerInteract(),(a=this.interact)==null||a.reflow({name:"resize",edges:{right:!0,bottom:!0}}),(u=this.interact)==null||u.reflow({name:"drag",axis:"xy"})}onHide(){var a;this.oldPopover=null,((a=this.parent)==null?void 0:a.hoverPopover)===this&&(this.parent.hoverPopover=null)}hide(){var u,f,v;if(this.onTarget=this.onHover=!1,this.isPinned=!1,this.detaching=!0,(u=qn.get(this.document.win))==null||u.delete(this),this.document.removeEventListener("mousemove",dt),this.timer&&(clearTimeout(this.timer),this.timer=0),this.hoverEl.hide(),this.opening)return;let a=this.leaves();if(a.length)a.forEach(d=>{d.view instanceof H.MarkdownView&&!this._loaded&&(d.view.onMarkdownFold=()=>null),d.detach(),d===app.workspace.activeLeaf&&(app.workspace.activeLeaf=null)});else return this.parent=null,((f=this.interact)==null?void 0:f.unset)&&this.interact.unset(),(v=this.abortController)==null||v.unload(),this.abortController=void 0,this.interact=void 0,this.nativeHide()}nativeHide(){var f;let{hoverEl:a,targetEl:u}=this;if(this.state=H.PopoverState.Hidden,a.detach(),u){let v=u.matchParent(".hover-popover");v&&((f=Zt.get(v))==null||f.transition()),u.removeEventListener("mouseover",this.onMouseIn),u.removeEventListener("mouseout",this.onMouseOut)}this.onHide(),this.unload()}resolveLink(a,u){let f=(0,H.parseLinktext)(a);return f?this.plugin.app.metadataCache.getFirstLinkpathDest(f.path,u):null}async openLink(a,u,f,v){var R,q,D;let d=this.resolveLink(a,u),E=(0,H.parseLinktext)(a);if(!d&&v){let W=this.plugin.app.fileManager.getNewFileParent(u);d=await this.plugin.app.fileManager.createNewMarkdownFile(W,E.path)}if(!d){this.displayCreateFileAction(a,u,f);return}let{viewRegistry:k}=this.plugin.app,S=k.typeByExtension[d.extension];if(!S||!k.viewByType[S]){this.displayOpenFileAction(d);return}f=Object.assign(this.buildEphemeralState(d,E),f);let T=this.getDefaultMode(),O=this.buildState(T,f),M=await this.openFile(d,O,v),N=(R=M==null?void 0:M.view)==null?void 0:R.getViewType();if(N==="image"){this.plugin.settings.autoFocus&&((q=this.parent)==null?void 0:q.hasOwnProperty("editorEl"))&&this.parent.editorEl.hasClass("is-live-preview")&&(this.waitTime=3e3),this.constrainAspectRatio=!0;let W=M.view.contentEl.querySelector("img");this.hoverEl.dataset.imgHeight=String(W.naturalHeight),this.hoverEl.dataset.imgWidth=String(W.naturalWidth),this.hoverEl.dataset.imgRatio=String(W.naturalWidth/W.naturalHeight)}else N==="pdf"&&(this.hoverEl.style.height="800px",this.hoverEl.style.width="600px");((D=O.state)==null?void 0:D.mode)==="source"&&this.whenShown(()=>{var W,Q,le,$;(0,H.requireApiVersion)("1.0")&&((le=(Q=(W=M==null?void 0:M.view)==null?void 0:W.editMode)==null?void 0:Q.reinit)==null||le.call(Q)),($=M==null?void 0:M.view)==null||$.setEphemeralState(O.eState)})}displayOpenFileAction(a){let f=this.attachLeaf().view;f.emptyTitleEl.hide(),f.actionListEl.empty();let{actionListEl:v}=f;v.createDiv({cls:"file-embed-title"},d=>{d.createSpan({cls:"file-embed-icon"},E=>(0,H.setIcon)(E,"document",22)),d.appendText(" "+a.name)}),v.addEventListener("click",()=>this.plugin.app.openWithDefaultApp(a.path)),v.setAttribute("aria-label",i18next.t("interface.embed-open-in-default-app-tooltip"))}displayCreateFileAction(a,u,f){var E,k,S;let v=this.attachLeaf(),d=v.view;if(d){(E=d.emptyTitleEl)==null||E.hide(),(k=d.actionListEl)==null||k.empty();let T=(S=d.actionListEl)==null?void 0:S.createEl("button","empty-state-action");if(!T)return;T.textContent=`${a} is not yet created. Click to create.`,this.plugin.settings.autoFocus&&setTimeout(()=>{T==null||T.focus()},200),T.addEventListener("click",async()=>{this.togglePin(!0),await this.openLink(a,u,f,v)},{once:!0})}}whenShown(a){if(this.detaching)return;let u=this.onShowCallback;this.onShowCallback=()=>{this.detaching||(a(),typeof u=="function"&&u())},this.state===H.PopoverState.Shown&&(this.onShowCallback(),this.onShowCallback=void 0)}async openFile(a,u,f){var d,E,k;if(this.detaching)return;let v=f!=null?f:this.attachLeaf();this.opening=!0;try{if(await v.openFile(a,u),this.plugin.settings.autoFocus&&!this.detaching)this.whenShown(()=>{app.workspace.setActiveLeaf(v,!1,!1),app.workspace.activeLeaf===v&&v.setEphemeralState({focus:!0}),setTimeout(ie(H.Workspace.prototype,{recordMostRecentOpenedFile(T){return function(O){if(O!==a)return T.call(this,O)}}}),1);let S=this.plugin.app.plugins.plugins["recent-files-obsidian"];S&&setTimeout(ie(S,{shouldAddFile(T){return function(O){return O!==a&&T.call(this,O)}}}),1)});else if(!this.plugin.settings.autoFocus&&!this.detaching){let S=this.hoverEl.querySelector(".popover-title");if(!S)return;S.textContent=(d=v.view)==null?void 0:d.getDisplayText(),S.setAttribute("data-path",(k=(E=v.view)==null?void 0:E.file)==null?void 0:k.path)}}catch(S){console.error(S)}finally{this.opening=!1,this.detaching&&this.hide()}return v}buildState(a,u){let v=this.plugin.settings.defaultMode==="match"?a:this.plugin.settings.defaultMode;return{active:!1,state:{mode:v},eState:u}}buildEphemeralState(a,u){let f=this.plugin.app.metadataCache.getFileCache(a),v=f?(0,H.resolveSubpath)(f,(u==null?void 0:u.subpath)||""):void 0,d={subpath:u==null?void 0:u.subpath};return v&&(d.line=v.start.line,d.startLoc=v.start,d.endLoc=v.end||void 0),d}};function pt(g){return g.containerEl.matches(".popover.hover-popover.hover-editor .workspace-leaf")}function za(g,a,u,f){u=u||{},a.show();let v=u.gap||0,d=u.preference||"bottom",E=u.offsetParent||a.offsetParent||f.documentElement,k=u.horizontalAlignment||"left",S=E.scrollTop+10,T=E.scrollTop+E.clientHeight-10,O=Math.min(g.top,T),M=Math.max(g.bottom,S),N=a.offsetHeight,R=g.top-S>=N+v,q=T-g.bottom>=N+v,D=0,W="";!R||d!=="top"&&q?!q||d!=="bottom"&&R?E.clientHeight<N+v?(D=S,W="overlap"):d==="top"?(D=S+v,W="overlap"):(D=T-N,W="overlap"):(D=M+v,W="bottom"):(D=O-v-N,W="top");let Q=E.scrollLeft+10,le=E.scrollLeft+E.clientWidth-10,$=a.offsetWidth,J=k==="left"?g.left:g.right-$;return J<Q?J=Q:J>le-$&&(J=le-$),a.style.top="".concat(D.toString(),"px"),a.style.left="".concat(J.toString(),"px"),{top:D,left:J,vresult:W}}function Wa(g,a){let u=0,f=0;for(let v=a?a.offsetParent:null;g&&g!==a&&g!==v;){u+=g.offsetTop,f+=g.offsetLeft;let d=g.offsetParent;for(let E=g.parentElement;E&&E!==d;)u-=E.scrollTop,f-=E.scrollLeft,E=E.parentElement;d&&d!==a&&d!==v&&(u-=d.scrollTop,f-=d.scrollLeft),g=d}return{top:u,left:f}}function dt(g){Qt={x:g.clientX,y:g.clientY}}function Jt(g,a){let u=g.relatedTarget;return!(pe(u,Node)&&a.contains(u))}function Ri(g,a){return!!(g&&a&&g.right>a.left&&g.left<a.right&&g.bottom>a.top&&g.top<a.bottom)}var en=new WeakMap;function Bi(g,a,u,f,v,d,...E){var T;u&&u.matches('.workspace-leaf-content[data-type="calendar"] table.calendar td > div')&&(u=u.parentElement),d&&"scroll"in d&&!("line"in d)&&u&&u.matches(".search-result-file-match")&&(d.line=d.scroll,delete d.scroll),u&&u.matches(".bookmark .tree-item-inner")&&(a&&a.innerEl===u&&(a=a.tree),u=(T=u.parentElement)!=null?T:u);let k=en.has(u)?en.get(u):a.hoverPopover;if(k==null?void 0:k.lockedOut)return;if(k&&k.state!==Pe.PopoverState.Hidden&&(!k.isPinned||g.settings.autoPin==="always")&&k.targetEl!==null&&k.originalLinkText===f&&k.originalPath===v&&u&&k.adopt(u))en.set(u,k);else{let O=new U(a,u,g,g.settings.triggerDelay);u&&en.set(u,O),O.originalLinkText=f,O.originalPath=v,a.hoverPopover=O;let M=O.abortController,N=function(){!O||(O.lockedOut=!1)},R=function(W){!O||pe(W.target,HTMLElement)&&!W.target.closest(".hover-editor, .menu")&&(O.state=Pe.PopoverState.Hidden,O.hide(),O.lockedOut=!0,setTimeout(N,1e3))},{document:q}=O,D=function(W){if(!O)return;let Q=Pe.Platform.isMacOS?"Meta":"Control";!O.onHover&&O.state!==Pe.PopoverState.Shown&&W.key!==Q?(O.state=Pe.PopoverState.Hidden,O.hide(),O.lockedOut=!0,setTimeout(N,1e3)):q.body.removeEventListener("keyup",D,!0)};q.addEventListener("pointerdown",R,!0),q.addEventListener("mousedown",R,!0),q.body.addEventListener("keyup",D,!0),M.register(()=>{q.removeEventListener("pointerdown",R,!0),q.removeEventListener("mousedown",R,!0),q.body.removeEventListener("keyup",D,!0)}),setTimeout(()=>{(O==null?void 0:O.state)!=Pe.PopoverState.Hidden&&(O==null||O.openLink(f,v,d))},0)}}var Ge=be(require("obsidian"));var Yn=Symbol.for("v1.to-use.peak-dev.org"),Un=Symbol.for("v1.factory.to-use.peak-dev.org"),Ke,ft,se=function(){return Object.defineProperties(g(),{this:{get(){if(Ke)return Ke;throw new TypeError("No current context")}},me:{value:Yn},factory:{value:Un}});function g(v){let d=new Map;d.prev=v;let E=Object.assign(v?S=>{let T=d.get(S);if(!T){for(let R=d.prev;R;R=R.prev)if(T=R.get(S)){T=Object.assign(Object.assign({},T),{s:T.s||1});break}T=T||{s:2,v:u},d.set(S,T)}let O,M,N;for(;;)switch(T.s){case 0:return Ke===E&&ft&&ft.push(S),T.v;case 1:if(O=T.d,!O||k(()=>O.k.every(R=>E(R)===O.c(R)))){T.s=0;break}T.v=O.f;case 2:T.s=4;try{a(d,S,0,k(M=T.v,S,N=[])),N.length&&(T.d={c:E,f:M,k:N});break}catch(R){T.s=3,T.v=R,T.d=null}case 3:throw T.v;case 4:throw new Error(`Factory ${String(T.v)} didn't resolve ${String(S)}`)}}:S=>se.this(S),{def(S,T){return a(d,S,2,T),E},set(S,T){return a(d,S,1,T),E},fork(S){let T=g(d);return S!=null?T(S):T}});return v?E.use=E:E;function k(S,T,O){let M=Ke,N=ft;try{return Ke=E,ft=O,S(T)}finally{Ke=M,ft=N}}}function a(v,d,E,k){if(v.has(d)){let S=v.get(d);if(!S.s)throw new Error(`Already read: ${String(d)}`);S.s=E,S.v=k,S.d=null}else v.set(d,{s:E,v:k})}function u(v){if(typeof v[Yn]=="function")return v[Yn](v);if(f(v))return typeof v.prototype[Un]=="function"?v.prototype[Un]():new v;throw new ReferenceError(`No config for ${String(v)}`)}function f(v){return typeof v=="function"&&v.prototype!==void 0&&(Object.getPrototypeOf(v.prototype)!==Object.prototype||Object.getOwnPropertyNames(v.prototype).length>1||v.toString().startsWith("class"))}}();var qi,$e=(qi=window.queueMicrotask)!=null?qi:(g=>a=>g.then(a))(Promise.resolve());se.def(Ge.Plugin,()=>{throw new Error("Plugin not created yet")});var tn=class extends Ge.Component{constructor(){super(...arguments);this.use=se.service(this)}};se.service=function g(g){return se(Kn).addChild(g),se.this};se.plugin=function g(g){let a=se.fork().set(Ge.Plugin,g).set(g.constructor,g);return g.addChild(a.use(Kn)),a};var Kn=class extends Ge.Component{constructor(){super(...arguments);this.children=new Set([this])}onload(){this.loaded=!0}onunload(){this.loaded=!1,this.children.clear()}addChild(a){return this.children.has(a)||(this.children.add(a),this.loaded?$e(()=>super.addChild(a)):super.addChild(a)),a}};var Xi=be(require("obsidian"));var $n=2,Is=Symbol.for(`v${$n}.layout-storage-events.ophidian.peak-dev.org`);var As=`ophidian-layout-storage:v${$n}:item-load`,Ds=`ophidian-layout-storage:v${$n}:item-save`;var Yi=be(require("obsidian"));var Ui=be(require("obsidian"));var Gn=class extends Ui.Component{constructor(a,u){super();this.use=a;this.win=u}get container(){return Na(this.win)}[se.factory](){return new Ki(this.constructor)}},Ki=class extends tn{constructor(a){super();this.factory=a;this.instances=new WeakMap;this.watching=!1}watch(){if(!this._loaded)this.onload=()=>this.watch();else if(!this.watching){let{workspace:a}=app;this.watching=!0,this.registerEvent(a.on("window-open",(u,f)=>{a.onLayoutReady(()=>$e(()=>this.forWindow(f)))})),a.onLayoutReady(()=>$e(()=>this.forAll()))}return this}forWindow(a=(f=>(f=window.activeWindow)!=null?f:window)(),u=!0){let v=this.instances.get(a);return!v&&u&&(v=new this.factory(this.use,a),v&&(this.instances.set(a,v),v.registerDomEvent(a,"beforeunload",()=>{this.removeChild(v),this.instances.delete(a)}),this.addChild(v))),v||void 0}forDom(a,u=!0){return this.forWindow(Va(a),u)}forLeaf(a,u=!0){return this.forDom(a.containerEl,u)}forView(a,u=!0){return this.forLeaf(a.leaf,u)}forAll(a=!0){return Fa().map(u=>this.forWindow(u,a)).filter(u=>u)}};function Fa(){let g=[window],{floatingSplit:a}=app.workspace;if(a)for(let u of a.children)u.win&&g.push(u.win);return g}function Va(g){return g.win||(g.ownerDocument||g).defaultView||window}function Na(g){if(g===window)return app.workspace.rootSplit;let{floatingSplit:a}=app.workspace;if(a){for(let u of a.children)if(g===u.win)return u}}var ee=be(require("obsidian"));var nn={defaultMode:"preview",autoPin:"onMove",triggerDelay:300,closeDelay:600,autoFocus:!0,rollDown:!1,snapToEdges:!1,initialHeight:"340px",initialWidth:"400px",showViewHeader:!1,imageZoom:!0,hoverEmbeds:!1,footnotes:(0,ee.requireApiVersion)("1.6")?"never":"always",headings:"always",blocks:(0,ee.requireApiVersion)("1.6")?"never":"always"},Ba={preview:"Reading view",source:"Editing view",match:"Match current view"},qa={onMove:"On drag or resize",always:"Always"},Zn=class extends ee.PluginSettingTab{constructor(a,u){super(a,u);this.plugin=u}hide(){}display(){let{containerEl:a}=this;a.empty(),new ee.Setting(a).setName("Default Mode").addDropdown(u=>{u.addOptions(Ba),u.setValue(this.plugin.settings.defaultMode),u.onChange(async f=>{this.plugin.settings.defaultMode=f,await this.plugin.saveSettings()})}),new ee.Setting(a).setName("Auto Pin").addDropdown(u=>{u.addOptions(qa),u.setValue(this.plugin.settings.autoPin),u.onChange(async f=>{this.plugin.settings.autoPin=f,await this.plugin.saveSettings()})}),new ee.Setting(a).setName("Trigger hover preview on embeds").setDesc("Allow hover preview to trigger when hovering over any type of rendered embed such as images or block references").addToggle(u=>u.setValue(this.plugin.settings.hoverEmbeds).onChange(f=>{this.plugin.settings.hoverEmbeds=f,this.plugin.saveSettings()})),new ee.Setting(a).setName("Trigger hover preview on sub-heading links").setDesc("Use hover editor for links to subheadings, instead of the built-in preview/editor").addToggle(u=>u.setValue(this.plugin.settings.headings==="always").onChange(f=>{this.plugin.settings.headings=f?"always":"never",this.plugin.saveSettings()})),new ee.Setting(a).setName("Trigger hover preview on block links").setDesc("Use hover editor for links to blocks, instead of the built-in preview/editor").addToggle(u=>u.setValue(this.plugin.settings.blocks==="always").onChange(f=>{this.plugin.settings.blocks=f?"always":"never",this.plugin.saveSettings()})),new ee.Setting(a).setName("Trigger hover preview on footnotes").setDesc("Use hover editor for footnotes, instead of the built-in preview/editor").addToggle(u=>u.setValue(this.plugin.settings.footnotes==="always").onChange(f=>{this.plugin.settings.footnotes=f?"always":"never",this.plugin.saveSettings()})),new ee.Setting(a).setName("Auto Focus").setDesc("Set the hover editor as the active pane when opened").addToggle(u=>u.setValue(this.plugin.settings.autoFocus).onChange(f=>{this.plugin.settings.autoFocus=f,this.plugin.saveSettings()})),new ee.Setting(a).setName("Minimize downwards").setDesc("When double clicking to minimize, the window will roll down instead of rolling up").addToggle(u=>u.setValue(this.plugin.settings.rollDown).onChange(f=>{this.plugin.settings.rollDown=f,this.plugin.saveSettings()})),new ee.Setting(a).setName("Snap to edges").setDesc(`Quickly arrange popovers by dragging them to the edges of the screen. The left and right edges 
        will maximize the popover vertically. The top edge will maximize the popover to fill the entire 
        screen. Dragging the popovers away from the edges will restore the popver to its original size.`).addToggle(u=>u.setValue(this.plugin.settings.snapToEdges).onChange(f=>{this.plugin.settings.snapToEdges=f,this.plugin.saveSettings()})),new ee.Setting(a).setName("Show view header by default").setDesc(`Show the view header by default when triggering a hover editor.
         When disabled, view headers will only show if you click the view header icon to the left of the minimize button.`).addToggle(u=>u.setValue(this.plugin.settings.showViewHeader).onChange(f=>{this.plugin.settings.showViewHeader=f,this.plugin.saveSettings()})),new ee.Setting(a).setName("Click to zoom image").setDesc(`Click and hold an image within a hover editor to temporarily maximize the popover and image to fill the entire viewport. 
        On mouse up, the hover editor will restore to its original size.`).addToggle(u=>u.setValue(this.plugin.settings.imageZoom).onChange(f=>{this.plugin.settings.imageZoom=f,this.plugin.saveSettings()})),new ee.Setting(a).setName("Initial popover width").setDesc("Enter any valid CSS unit").addText(u=>{u.setPlaceholder(this.plugin.settings.initialWidth),u.inputEl.type="text",u.setValue(this.plugin.settings.initialWidth),u.onChange(async f=>{f=Fn(f),f||(f=nn.initialWidth),this.plugin.settings.initialWidth=f,this.plugin.saveSettings()})}),new ee.Setting(a).setName("Initial popover height").setDesc("Enter any valid CSS unit").addText(u=>{u.setPlaceholder(String(this.plugin.settings.initialHeight)),u.inputEl.type="text",u.setValue(String(this.plugin.settings.initialHeight)),u.onChange(async f=>{f=Fn(f),f||(f=nn.initialHeight),this.plugin.settings.initialHeight=f,this.plugin.saveSettings()})}),new ee.Setting(a).setName("Hover Trigger Delay (ms)").setDesc("How long to wait before showing a Hover Editor when hovering over a link").addText(u=>{u.setPlaceholder(String(this.plugin.settings.triggerDelay)),u.inputEl.type="number",u.setValue(String(this.plugin.settings.triggerDelay)),u.onChange(async f=>{this.plugin.settings.triggerDelay=Number(f),this.plugin.saveSettings()})}),new ee.Setting(a).setName("Hover Close Delay (ms)").setDesc("How long to wait before closing a Hover Editor once the mouse leaves").addText(u=>{u.setPlaceholder(String(this.plugin.settings.closeDelay)),u.inputEl.type="number",u.setValue(String(this.plugin.settings.closeDelay)),u.onChange(async f=>{this.plugin.settings.closeDelay=Number(f),this.plugin.saveSettings()})})}};var Jn=be(Gi());var Zi=class extends Gn{constructor(){super(...arguments);this.interact=this.createInteractor();this.plugin=this.use(on)}createInteractor(){if(this.win===window)return Jn.default;let a=Jn.default.scope,f=new a.constructor().init(this.win).interactStatic;for(let v of a._plugins.list)f.use(v);return f}onload(){this.win.addEventListener("resize",this.plugin.debouncedPopoverReflow)}onunload(){this.win.removeEventListener("resize",this.plugin.debouncedPopoverReflow);try{this.interact.removeDocument(this.win.document)}catch(a){console.error(a)}}},on=class extends V.Plugin{constructor(){super(...arguments);this.use=se.plugin(this);this.interact=this.use(Zi);this.debouncedPopoverReflow=(0,V.debounce)(()=>{U.activePopovers().forEach(a=>{var u;(u=a.interact)==null||u.reflow({name:"drag",axis:"xy"})})},100,!0)}async onload(){this.registerActivePopoverHandler(),this.registerFileRenameHandler(),this.registerContextMenuHandler(),this.registerCommands(),this.patchUnresolvedGraphNodeHover(),this.patchWorkspace(),this.patchQuickSwitcher(),this.patchWorkspaceLeaf(),this.patchItemView(),this.patchMarkdownPreviewRenderer(),this.patchMarkdownPreviewView(),await this.loadSettings(),this.registerSettingsTab(),this.app.workspace.onLayoutReady(()=>{this.patchSlidingPanes(),this.patchLinkHover(),setTimeout(()=>{this.app.workspace.trigger("css-change")},2e3)})}get activePopovers(){return U.activePopovers()}patchWorkspaceLeaf(){this.register(ie(V.WorkspaceLeaf.prototype,{getRoot(a){return function(){let u=a.call(this);return u.getRoot===this.getRoot?u:u.getRoot()}},onResize(a){return function(){var u;(u=this.view)==null||u.onResize()}},setViewState(a){return async function(u,f){var d,E,k;let v=await a.call(this,u,f);try{let S=U.forLeaf(this);if(S){u.type&&S.hoverEl.setAttribute("data-active-view-type",u.type);let T=S.hoverEl.querySelector(".popover-title");T&&(T.textContent=(d=this.view)==null?void 0:d.getDisplayText(),((k=(E=this.view)==null?void 0:E.file)==null?void 0:k.path)?T.setAttribute("data-path",this.view.file.path):T.removeAttribute("data-path"))}}catch(S){}return v}},setEphemeralState(a){return function(u){var f;a.call(this,u),u.focus&&((f=this.view)==null?void 0:f.getViewType())==="empty"&&(this.view.contentEl.tabIndex=-1,this.view.contentEl.focus())}}})),this.register(ie(V.WorkspaceItem.prototype,{getContainer(a){return function(){if(!!a)return!this.parentSplit||this instanceof V.WorkspaceContainer?a.call(this):this.parentSplit.getContainer()}}}))}patchQuickSwitcher(){let a=this,{QuickSwitcherModal:u}=this.app.internalPlugins.plugins.switcher.instance,f=ie(u.prototype,{open(v){return function(){let d=v.call(this);return this.instructionsEl&&setTimeout(ie(this.instructionsEl,{empty(E){return()=>{}}}),0),this.setInstructions([{command:V.Platform.isMacOS?"cmd p":"ctrl p",purpose:"to open in new popover"}]),this.scope.register(["Mod"],"p",E=>{this.close();let k=this.chooser.values[this.chooser.selectedItem];if(!(k==null?void 0:k.file))return;let S=a.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(S,!1,!0));return S.openFile(k.file),!1}),d}}});this.register(f)}patchItemView(){let a=this,[u,f]=V.View.prototype.onPaneMenu?[V.View,"onPaneMenu"]:[V.ItemView,"onMoreOptionsMenu"],v=ie(u.prototype,{[f](d){return function(E,...k){return(this.leaf?U.forLeaf(this.leaf):void 0)?E.addItem(T=>{var O,M;(M=(O=T.setIcon("popup-open").setTitle("Dock Hover Editor to workspace").onClick(()=>{a.dockPopoverToWorkspace(this.leaf)})).setSection)==null||M.call(O,"open")}):(E.addItem(T=>{var O,M;(M=(O=T.setIcon("popup-open").setTitle("Open in Hover Editor").onClick(()=>{var R;let N=a.spawnPopover();((R=this.leaf)==null?void 0:R.getViewState)&&N.setViewState(this.leaf.getViewState())})).setSection)==null||M.call(O,"open")}),E.addItem(T=>{var O,M;(M=(O=T.setIcon("popup-open").setTitle("Convert to Hover Editor").onClick(()=>{a.convertLeafToPopover(this.leaf)})).setSection)==null||M.call(O,"open")})),d.call(this,E,...k)}}});this.register(v)}patchMarkdownPreviewView(){this.register(ie(V.MarkdownPreviewView.prototype,{onResize(a){return function(){this.renderer.onResize(),this.view.scroll!==null&&this.view.scroll!==this.getScroll()&&this.renderer.applyScrollDelayed(this.view.scroll)}}}))}patchMarkdownPreviewRenderer(){let a=this,u=ie(V.MarkdownPreviewRenderer,{registerDomEvents(f){return function(v,d,...E){return v==null||v.on("mouseover",".internal-embed.is-loaded",(k,S)=>{var T,O,M,N,R;S&&a.settings.hoverEmbeds&&app.workspace.trigger("hover-link",{event:k,source:S.matchParent(".markdown-source-view")?"editor":"preview",hoverParent:(T=d.hoverParent)!=null?T:d.info,targetEl:S,linktext:S.getAttribute("src"),sourcePath:((R=(N=(M=(O=d.info)!=null?O:d).getFile)==null?void 0:N.call(M))==null?void 0:R.path)||""})}),f.call(this,v,d,...E)}}});this.register(u)}patchWorkspace(){let a=!1,u=ie(V.Workspace.prototype,{changeLayout(f){return async function(v){a=!0;try{await f.call(this,v)}finally{a=!1}}},recordHistory(f){return function(v,d,...E){var S;if(!(!((S=this.app.plugins.plugins["pane-relief"])==null?void 0:S._loaded)&&pt(v)))return f.call(this,v,d,...E)}},iterateLeaves(f){return function(v,d){if(f.call(this,v,d))return!0;let E=typeof v=="function"?v:d,k=typeof v=="function"?d:v;if(!k||a)return!1;if(k===app.workspace.rootSplit||V.WorkspaceContainer&&k instanceof V.WorkspaceContainer){for(let S of U.popoversForWindow(k.win))if(f.call(this,E,S.rootSplit))return!0}return!1}},getDropLocation(f){return function(d){for(let E of U.activePopovers()){let k=this.recursiveGetTarget(d,E.rootSplit);if(k)return V.requireApiVersion&&(0,V.requireApiVersion)("0.15.3")?k:{target:k,sidedock:!1}}return f.call(this,d)}},onDragLeaf(f){return function(v,d){let E=U.forLeaf(d);return E==null||E.togglePin(!0),f.call(this,v,d)}}});this.register(u)}patchSlidingPanes(){var u;let a=(u=this.app.plugins.plugins["sliding-panes-obsidian"])==null?void 0:u.constructor;if(a){let f=ie(a.prototype,{handleFileOpen(v){return function(...d){if(!pt(this.app.workspace.activeLeaf))return v.call(this,...d)}},handleLayoutChange(v){return function(...d){if(!pt(this.app.workspace.activeLeaf))return v.call(this,...d)}},focusActiveLeaf(v){return function(...d){if(!pt(this.app.workspace.activeLeaf))return v.call(this,...d)}}});this.register(f)}}patchLinkHover(){let a=this,u=this.app.internalPlugins.plugins["page-preview"];if(!u.enabled)return;let f=ie(u.instance.constructor.prototype,{onHoverLink(v){return function(d,...E){return d&&pe(d.event,MouseEvent)&&dt(d.event),v.call(this,d,...E)}},onLinkHover(v){return function(d,E,k,S,T,...O){let{subpath:M}=(0,V.parseLinktext)(k);if(M&&M[0]==="#"){if(M.startsWith("#[^")){if(a.settings.footnotes!=="always")return v.call(this,d,E,k,S,T,...O)}else if(M.startsWith("#^")){if(a.settings.blocks!=="always")return v.call(this,d,E,k,S,T,...O)}else if(a.settings.headings!=="always")return v.call(this,d,E,k,S,T,...O)}Bi(a,d,E,k,S,T,...O)}}});this.register(f),u.disable(),u.enable(),a.register(function(){!u.enabled||(u.disable(),u.enable())})}registerContextMenuHandler(){this.registerEvent(this.app.workspace.on("file-menu",(a,u,f,v)=>{let d=v?U.forLeaf(v):void 0;u instanceof V.TFile&&!d&&!v&&a.addItem(E=>{var k,S;(S=(k=E.setIcon("popup-open").setTitle("Open in Hover Editor").onClick(()=>{this.spawnPopover().openFile(u)})).setSection)==null||S.call(k,"open")})}))}registerActivePopoverHandler(){this.registerEvent(this.app.workspace.on("active-leaf-change",a=>{var f,v,d,E,k;(f=U.activePopover)==null||f.hoverEl.removeClass("is-active");let u=U.activePopover=a?U.forLeaf(a):void 0;if(u&&a){u.activate(),u.hoverEl.addClass("is-active");let S=u.hoverEl.querySelector(".popover-title");if(!S)return;S.textContent=(v=a.view)==null?void 0:v.getDisplayText(),((d=a==null?void 0:a.view)==null?void 0:d.getViewType())&&u.hoverEl.setAttribute("data-active-view-type",a.view.getViewType()),((k=(E=a.view)==null?void 0:E.file)==null?void 0:k.path)?S.setAttribute("data-path",a.view.file.path):S.removeAttribute("data-path")}}))}registerFileRenameHandler(){this.app.vault.on("rename",(a,u)=>{U.iteratePopoverLeaves(this.app.workspace,f=>{var v,d;if(a===((v=f==null?void 0:f.view)==null?void 0:v.file)&&a instanceof V.TFile){let E=U.forLeaf(f);if(E==null?void 0:E.hoverEl){let k=E.hoverEl.querySelector(".popover-title");if(!k)return;let S=k.getAttribute("data-path");u===S&&(k.textContent=(d=f.view)==null?void 0:d.getDisplayText(),k.setAttribute("data-path",a.path))}}})})}patchUnresolvedGraphNodeHover(){var d,E;let a=new V.WorkspaceLeaf(this.app),u=this.app.internalPlugins.plugins.graph.views.localgraph(a),f=u.engine.constructor;a.detach(),(E=(d=u.renderer)==null?void 0:d.worker)==null||E.terminate();let v=ie(f.prototype,{onNodeHover(k){return function(S,T,O,...M){if(O==="unresolved"){if(this.onNodeUnhover(),pe(S,MouseEvent)){if(this.hoverPopover&&this.hoverPopover.state!==V.PopoverState.Hidden&&this.lastHoverLink===T)return this.hoverPopover.onTarget=!0,void this.hoverPopover.transition();this.lastHoverLink=T,this.app.workspace.trigger("hover-link",{event:S,source:"graph",hoverParent:this,targetEl:null,linktext:T})}}else return k.call(this,S,T,O,...M)}}});this.register(v),a.detach()}onunload(){U.activePopovers().forEach(a=>a.hide())}async loadSettings(){this.settings=Object.assign({},nn,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}registerCommands(){this.addCommand({id:"bounce-popovers",name:"Toggle bouncing popovers",callback:()=>{this.activePopovers.forEach(a=>{a.toggleBounce()})}}),this.addCommand({id:"open-new-popover",name:"Open new Hover Editor",callback:()=>{let a=this.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(a,!1,!0))}}),this.addCommand({id:"open-link-in-new-popover",name:"Open link under cursor in new Hover Editor",checkCallback:a=>{let u=this.app.workspace.getActiveViewOfType(V.MarkdownView);if(u){if(!a){let f=u.editor.getClickableTokenAt(u.editor.getCursor());if((f==null?void 0:f.type)==="internal-link"){let v=this.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(v,!1,!0));v.openLinkText(f.text,u.file.path)}}return!0}return!1}}),this.addCommand({id:"open-current-file-in-new-popover",name:"Open current file in new Hover Editor",checkCallback:a=>{var f,v;let u=(v=(f=this.app.workspace.activeEditor)==null?void 0:f.file)!=null?v:this.app.workspace.getActiveFile();if(u){if(!a){let d=this.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(d,!1,!0));d.openFile(u)}return!0}return!1}}),this.addCommand({id:"convert-active-pane-to-popover",name:"Convert active pane to Hover Editor",checkCallback:a=>{let{activeLeaf:u}=this.app.workspace;return u?(a||this.convertLeafToPopover(u),!0):!1}}),this.addCommand({id:"dock-active-popover-to-workspace",name:"Dock active Hover Editor to workspace",checkCallback:a=>{let{activeLeaf:u}=this.app.workspace;return u&&U.forLeaf(u)?(a||this.dockPopoverToWorkspace(u),!0):!1}}),this.addCommand({id:"restore-active-popover",name:"Restore active Hover Editor",checkCallback:a=>ji(a)}),this.addCommand({id:"minimize-active-popover",name:"Minimize active Hover Editor",checkCallback:a=>Hi(a)}),Ai.forEach(a=>{this.addCommand({id:`snap-active-popover-to-${a}`,name:`Snap active Hover Editor to ${a}`,checkCallback:u=>Di(a,u)})})}convertLeafToPopover(a){if(!a)return;let u=this.spawnPopover(void 0,()=>{let{parentSplit:f}=u,{parentSplit:v}=a;v.removeChild(a),f.replaceChild(0,a,!0),this.app.workspace.setActiveLeaf(a,!1,!0)});return u}dockPopoverToWorkspace(a){if(!a)return;a.parentSplit.removeChild(a);let{rootSplit:u}=this.app.workspace;return(0,V.requireApiVersion)("0.16.3")&&u.children[0]instanceof V.WorkspaceTabs?u.children[0].insertChild(-1,a):u.insertChild(-1,a),app.workspace.activeLeaf=null,app.workspace.setActiveLeaf(a,!1,!0),a}spawnPopover(a,u){let f=this.app.workspace.activeLeaf;a||(a=f.containerEl);let v=new U(f,a,this,void 0,u);return v.togglePin(!0),v.attachLeaf()}registerSettingsTab(){this.settingsTab=new Zn(this.app,this),this.addSettingTab(this.settingsTab)}};function Xn(g){let a=[];for(let u=0;u<g;u++)a.push((16*Math.random()|0).toString(16));return a.join("")}

/* nosourcemap */